"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[253],{3540:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>vi,contentTitle:()=>bi,default:()=>xi,frontMatter:()=>wi,metadata:()=>r,toc:()=>yi});const r=JSON.parse('{"id":"getting-started/first-animation","title":"Your first animation","description":"We want to create the following animation (click the \\"Play\\" button below to see it in action):","source":"@site/docs/getting-started/first-animation.mdx","sourceDirName":"getting-started","slug":"/getting-started/first-animation","permalink":"/docs/getting-started/first-animation","draft":false,"unlisted":false,"editUrl":"https://github.com/janekhaertter/Japit/tree/master/doc/docs/getting-started/first-animation.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Your first animation"},"sidebar":"docSidebar","previous":{"title":"Installation","permalink":"/docs/getting-started/installation"}}');var i=n(4848),s=n(8453),o=Object.defineProperty,a=(e,t,n)=>((e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);function l(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map((e=>[e])));let r=t[0].length,i=t[0].map(((e,n)=>t.map((e=>e[n])))),s=e.map((e=>i.map((t=>{let n=0;if(!Array.isArray(e)){for(let r of t)n+=e*r;return n}for(let r=0;r<e.length;r++)n+=e[r]*(t[r]||0);return n}))));return 1===n&&(s=s[0]),1===r?s.map((e=>e[0])):s}function c(e){return"string"===u(e)}function u(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function h(e,t){let{precision:n,unit:r}=t;return d(e)?"none":p(e,n)+(r??"")}function d(e){return Number.isNaN(e)||e instanceof Number&&(null==e?void 0:e.none)}function g(e){return d(e)?0:e}function p(e,t){if(0===e)return 0;let n=~~e,r=0;n&&t&&(r=1+~~Math.log10(Math.abs(n)));const i=10**(t-r);return Math.floor(e*i+.5)/i}const m={deg:1,grad:.9,rad:180/Math.PI,turn:360};function f(e){if(!e)return;e=e.trim();const t=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let i=e.match(/^([a-z]+)\((.+?)\)$/i);if(i){let e=[];return i[2].replace(r,((r,i)=>{let s=i.match(n),o=i;if(s){let e=s[0],t=o.slice(0,-e.length);"%"===e?(o=new Number(t/100),o.type="<percentage>"):(o=new Number(t*m[e]),o.type="<angle>",o.unit=e)}else t.test(o)?(o=new Number(o),o.type="<number>"):"none"===o&&(o=new Number(NaN),o.none=!0);r.startsWith("/")&&(o=o instanceof Number?o:new Number(o),o.alpha=!0),"object"==typeof o&&o instanceof Number&&(o.raw=i),e.push(o)})),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:e}}}function w(e){return e[e.length-1]}function b(e,t,n){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*n}function v(e,t,n){return(n-e)/(t-e)}function y(e,t,n){return b(t[0],t[1],v(e[0],e[1],n))}function _(e){return e.map((e=>e.split("|").map((e=>{let t=(e=e.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(t){let e=new String(t[1]);return e.range=[+t[2],+t[3]],e}return e}))))}function x(e,t,n){return Math.max(Math.min(n,t),e)}function M(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function E(e,t){return M(Math.abs(e)**t,e)}function N(e,t){return 0===t?0:e/t}function C(e,t,n,r){for(void 0===n&&(n=0),void 0===r&&(r=e.length);n<r;){const i=n+r>>1;e[i]<t?n=i+1:r=i}return n}var S=Object.freeze({__proto__:null,bisectLeft:C,clamp:x,copySign:M,interpolate:b,interpolateInv:v,isNone:d,isString:c,last:w,mapRange:y,multiplyMatrices:l,parseCoordGrammar:_,parseFunction:f,serializeNumber:h,skipNone:g,spow:E,toPrecision:p,type:u,zdiv:N});const j=new class{add(e,t,n){if("string"==typeof arguments[0])(Array.isArray(e)?e:[e]).forEach((function(e){this[e]=this[e]||[],t&&this[e][n?"unshift":"push"](t)}),this);else for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1])}run(e,t){this[e]=this[e]||[],this[e].forEach((function(e){e.call(t&&t.context?t.context:t,t)}))}};var k,X,Y,V={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"test"!==(null==(Y=null==(X=null==(k=null==globalThis?void 0:globalThis.process)?void 0:k.env)?void 0:X.NODE_ENV)?void 0:Y.toLowerCase()),warn:function(e){var t,n;this.verbose&&(null==(n=null==(t=null==globalThis?void 0:globalThis.console)?void 0:t.warn)||n.call(t,e))}};const R={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function A(e){return Array.isArray(e)?e:R[e]}function L(e,t,n,r){if(void 0===r&&(r={}),e=A(e),t=A(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${e||t?"":"/"}${t?"":"to"}`);if(e===t)return n;let i={W1:e,W2:t,XYZ:n,options:r};if(j.run("chromatic-adaptation-start",i),i.M||(i.W1===R.D65&&i.W2===R.D50?i.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:i.W1===R.D50&&i.W2===R.D65&&(i.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),j.run("chromatic-adaptation-end",i),i.M)return l(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const H=new Set(["<number>","<percentage>","<angle>"]);function B(e,t,n,r){return Object.entries(e.coords).map(((e,i)=>{let s,[o,a]=e,l=t.coordGrammar[i],c=r[i],u=null==c?void 0:c.type;if(s=c.none?l.find((e=>H.has(e))):l.find((e=>e==u)),!s){let e=a.name||o;throw new TypeError(`${u??c.raw} not allowed for ${e} in ${n}()`)}let h=s.range;"<percentage>"===u&&(h||(h=[0,1]));let d=a.range||a.refRange;return h&&d&&(r[i]=y(h,d,r[i])),s}))}function I(e,t){let{meta:n}=void 0===t?{}:t;var r,i,s,o;let a={str:null==(r=String(e))?void 0:r.trim()};if(j.run("parse-start",a),a.color)return a.color;if(a.parsed=f(a.str),a.parsed){let e=a.parsed.name;if("color"===e){let e=a.parsed.args.shift(),t=e.startsWith("--")?e.substring(2):`--${e}`,r=[e,t],l=a.parsed.rawArgs.indexOf("/")>0?a.parsed.args.pop():1;for(let s of $.all){let t=s.getFormat("color");if(t&&(r.includes(t.id)||null!=(i=t.ids)&&i.filter((e=>r.includes(e))).length)){const r=Object.keys(s.coords).map(((e,t)=>a.parsed.args[t]||0));let i;return t.coordGrammar&&(i=B(s,t,"color",r)),n&&Object.assign(n,{formatId:"color",types:i}),t.id.startsWith("--")&&!e.startsWith("--")&&V.warn(`${s.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${t.id}) instead of color(${e}).`),e.startsWith("--")&&!t.id.startsWith("--")&&V.warn(`${s.name} is a standard space and supported in the CSS spec. Use color(${t.id}) instead of prefixed color(${e}).`),{spaceId:s.id,coords:r,alpha:l}}}let c="",u=e in $.registry?e:t;if(u in $.registry){let e=null==(o=null==(s=$.registry[u].formats)?void 0:s.color)?void 0:o.id;e&&(c=`Did you mean color(${e})?`)}throw new TypeError(`Cannot parse color(${e}). `+(c||"Missing a plugin?"))}for(let t of $.all){let r=t.getFormat(e);if(r&&"function"===r.type){let i=1;(r.lastAlpha||w(a.parsed.args).alpha)&&(i=a.parsed.args.pop());let s,o=a.parsed.args;return r.coordGrammar&&(s=B(t,r,e,o)),n&&Object.assign(n,{formatId:r.name,types:s}),{spaceId:t.id,coords:o,alpha:i}}}}else for(let l of $.all)for(let e in l.formats){let t=l.formats[e];if("custom"!==t.type||t.test&&!t.test(a.str))continue;let r=t.parse(a.str);if(r)return r.alpha??(r.alpha=1),n&&(n.formatId=e),r}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function z(e){if(Array.isArray(e))return e.map(z);if(!e)throw new TypeError("Empty color reference");c(e)&&(e=I(e));let t=e.space||e.spaceId;return t instanceof $||(e.space=$.get(t)),void 0===e.alpha&&(e.alpha=1),e}const P=75e-6,T=class e{constructor(t){var n;this.id=t.id,this.name=t.name,this.base=t.base?e.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let e in r)"name"in r[e]||(r[e].name=e);this.coords=r;let i=t.white??this.base.white??"D65";this.white=A(i),this.formats=t.formats??{};for(let e in this.formats){let t=this.formats[e];t.type||(t.type="function"),t.name||(t.name=e)}null!=(n=this.formats.color)&&n.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace="self"===t.gamutSpace?this:e.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(e,t)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:W(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),j.run("colorspace-init-end",this)}inGamut(e,t){let{epsilon:n=P}=void 0===t?{}:t;if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:n});let r=Object.values(this.coords);return e.every(((e,t)=>{let i=r[t];if("angle"!==i.type&&i.range){if(Number.isNaN(e))return!0;let[t,r]=i.range;return(void 0===t||e>=t-n)&&(void 0===r||e<=r+n)}return!0}))}get isUnbounded(){return Object.values(this.coords).every((e=>!("range"in e)))}get cssId(){var e,t;return(null==(t=null==(e=this.formats)?void 0:e.color)?void 0:t.id)||this.id}get isPolar(){for(let e in this.coords)if("angle"===this.coords[e].type)return!0;return!1}getFormat(e){if("object"==typeof e)return e=O(e,this);let t;return t="default"===e?Object.values(this.formats)[0]:this.formats[e],t?(t=O(t,this),t):null}equals(e){return!!e&&(this===e||this.id===e||this.id===e.id)}to(t,n){if(1===arguments.length){const e=z(t);[t,n]=[e.space,e.coords]}if(t=e.get(t),this.equals(t))return n;n=n.map((e=>Number.isNaN(e)?0:e));let r,i,s=this.path,o=t.path;for(let e=0;e<s.length&&s[e].equals(o[e]);e++)r=s[e],i=e;if(!r)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let e=s.length-1;e>i;e--)n=s[e].toBase(n);for(let e=i+1;e<o.length;e++)n=o[e].fromBase(n);return n}from(t,n){if(1===arguments.length){const e=z(t);[t,n]=[e.space,e.coords]}return(t=e.get(t)).to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let t in this.coords){let n=this.coords[t],r=n.range||n.refRange;e.push((null==r?void 0:r.min)??0)}return e}static get all(){return[...new Set(Object.values(e.registry))]}static register(e,t){if(1===arguments.length&&(e=(t=arguments[0]).id),t=this.get(t),this.registry[e]&&this.registry[e]!==t)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=t,1===arguments.length&&t.aliases)for(let n of t.aliases)this.register(n,t);return t}static get(t){if(!t||t instanceof e)return t;if("string"===u(t)){let n=e.registry[t.toLowerCase()];if(!n)throw new TypeError(`No color space found with id = "${t}"`);return n}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length)return e.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,n){var r;let i,s,o=u(t);if("string"===o?t.includes(".")?[i,s]=t.split("."):[i,s]=[,t]:Array.isArray(t)?[i,s]=t:(i=t.space,s=t.coordId),i=e.get(i),i||(i=n),!i)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(o=u(s),"number"===o||"string"===o&&s>=0){let e=Object.entries(i.coords)[s];if(e)return{space:i,id:e[0],index:s,...e[1]}}i=e.get(i);let a=s.toLowerCase(),l=0;for(let e in i.coords){let t=i.coords[e];if(e.toLowerCase()===a||(null==(r=t.name)?void 0:r.toLowerCase())===a)return{space:i,id:e,index:l,...t};l++}throw new TypeError(`No "${s}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}};a(T,"registry",{}),a(T,"DEFAULT_FORMAT",{type:"functions",name:"color"});let $=T;function W(e){let t=[e];for(let n=e;n=n.base;)t.push(n);return t}function O(e,t){let{coords:n}=void 0===t?{}:t;if(e.coords&&!e.coordGrammar){e.type||(e.type="function"),e.name||(e.name="color"),e.coordGrammar=_(e.coords);let t=Object.entries(n).map(((t,n)=>{let[r,i]=t,s=e.coordGrammar[n][0],o=i.range||i.refRange,a=s.range,l="";return"<percentage>"==s?(a=[0,100],l="%"):"<angle>"==s&&(l="deg"),{fromRange:o,toRange:a,suffix:l}}));e.serializeCoords=(e,n)=>e.map(((e,r)=>{let{fromRange:i,toRange:s,suffix:o}=t[r];return i&&s&&(e=y(i,s,e)),e=h(e,{precision:n,unit:o})}))}return e}var D=new $({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class q extends ${constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=D),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=t=>{let n=l(e.toXYZ_M,t);return this.white!==this.base.white&&(n=L(this.white,this.base.white,n)),n}),e.fromBase??(e.fromBase=t=>(t=L(this.base.white,this.white,t),l(e.fromXYZ_M,t)))),e.referred??(e.referred="display"),super(e)}}function G(e,t){return e=z(e),!t||e.space.equals(t)?e.coords.slice():(t=$.get(t)).from(e)}function J(e,t){e=z(e);let{space:n,index:r}=$.resolveCoord(t,e.space);return G(e,n)[r]}function F(e,t,n){return e=z(e),t=$.get(t),e.coords=t.to(e.space,n),e}function Z(e,t,n){if(e=z(e),2===arguments.length&&"object"===u(arguments[1])){let t=arguments[1];for(let n in t)Z(e,n,t[n])}else{"function"==typeof n&&(n=n(J(e,t)));let{space:r,index:i}=$.resolveCoord(t,e.space),s=G(e,r);s[i]=n,F(e,r,s)}return e}F.returns="color",Z.returns="color";var U=new $({id:"xyz-d50",name:"XYZ D50",white:"D50",base:D,fromBase:e=>L(D.white,"D50",e),toBase:e=>L("D50",D.white,e)});const Q=216/24389,K=24/116,ee=24389/27;let te=R.D50;var ne=new $({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:te,base:U,fromBase(e){let t=e.map(((e,t)=>e/te[t])).map((e=>e>Q?Math.cbrt(e):(ee*e+16)/116));return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>K?Math.pow(t[0],3):(116*t[0]-16)/ee,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/ee,t[2]>K?Math.pow(t[2],3):(116*t[2]-16)/ee].map(((e,t)=>e*te[t]))},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function re(e){return(e%360+360)%360}var ie=new $({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:ne,fromBase(e){let t,[n,r,i]=e;return t=Math.abs(r)<.02&&Math.abs(i)<.02?NaN:180*Math.atan2(i,r)/Math.PI,[n,Math.sqrt(r**2+i**2),re(t)]},toBase(e){let[t,n,r]=e;return n<0&&(n=0),isNaN(r)&&(r=0),[t,n*Math.cos(r*Math.PI/180),n*Math.sin(r*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const se=25**7,oe=Math.PI,ae=180/oe,le=oe/180;function ce(e){const t=e*e;return t*t*t*e}function ue(e,t,n){let{kL:r=1,kC:i=1,kH:s=1}=void 0===n?{}:n;[e,t]=z([e,t]);let[o,a,l]=ne.from(e),c=ie.from(ne,[o,a,l])[1],[u,h,d]=ne.from(t),g=ie.from(ne,[u,h,d])[1];c<0&&(c=0),g<0&&(g=0);let p=ce((c+g)/2),m=.5*(1-Math.sqrt(p/(p+se))),f=(1+m)*a,w=(1+m)*h,b=Math.sqrt(f**2+l**2),v=Math.sqrt(w**2+d**2),y=0===f&&0===l?0:Math.atan2(l,f),_=0===w&&0===d?0:Math.atan2(d,w);y<0&&(y+=2*oe),_<0&&(_+=2*oe),y*=ae,_*=ae;let x,M=u-o,E=v-b,N=_-y,C=y+_,S=Math.abs(N);b*v==0?x=0:S<=180?x=N:N>180?x=N-360:N<-180?x=N+360:V.warn("the unthinkable has happened");let j,k=2*Math.sqrt(v*b)*Math.sin(x*le/2),X=(o+u)/2,Y=(b+v)/2,R=ce(Y);j=b*v==0?C:S<=180?C/2:C<360?(C+360)/2:(C-360)/2;let A=(X-50)**2,L=1+.015*A/Math.sqrt(20+A),H=1+.045*Y,B=1;B-=.17*Math.cos((j-30)*le),B+=.24*Math.cos(2*j*le),B+=.32*Math.cos((3*j+6)*le),B-=.2*Math.cos((4*j-63)*le);let I=1+.015*Y*B,P=30*Math.exp(-1*((j-275)/25)**2),T=2*Math.sqrt(R/(R+se)),$=(M/(r*L))**2;return $+=(E/(i*H))**2,$+=(k/(s*I))**2,$+=-1*Math.sin(2*P*le)*T*(E/(i*H))*(k/(s*I)),Math.sqrt($)}const he=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],de=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],ge=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],pe=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]];var me=new $({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:D,fromBase(e){let t=l(he,e).map((e=>Math.cbrt(e)));return l(ge,t)},toBase(e){let t=l(pe,e).map((e=>e**3));return l(de,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function fe(e,t){[e,t]=z([e,t]);let[n,r,i]=me.from(e),[s,o,a]=me.from(t),l=n-s,c=r-o,u=i-a;return Math.sqrt(l**2+c**2+u**2)}const we=75e-6;function be(e,t,n){let{epsilon:r=we}=void 0===n?{}:n;e=z(e),t||(t=e.space),t=$.get(t);let i=e.coords;return t!==e.space&&(i=t.from(e)),t.inGamut(i,{epsilon:r})}function ve(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function ye(e,t,n){void 0===n&&(n="lab");let r=(n=$.get(n)).from(e),i=n.from(t);return Math.sqrt(r.reduce(((e,t,n)=>{let r=i[n];return isNaN(t)||isNaN(r)?e:e+(r-t)**2}),0))}const _e=Math.PI/180;var xe=new $({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:D,fromBase:e=>e.map((e=>Math.max(203*e,0))),toBase:e=>e.map((e=>Math.max(e/203,0)))});const Me=1.15,Ee=.66,Ne=2610/16384,Ce=16384/2610,Se=.8359375,je=2413/128,ke=18.6875,Xe=1.7*2523/32,Ye=32/(1.7*2523),Ve=-.56,Re=16295499532821565e-27,Ae=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Le=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],He=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Be=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var Ie=new $({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:xe,fromBase(e){let[t,n,r]=e,i=l(Ae,[Me*t-(Me-1)*r,Ee*n-(Ee-1)*t,r]).map((function(e){return((Se+je*(e/1e4)**Ne)/(1+ke*(e/1e4)**Ne))**Xe})),[s,o,a]=l(He,i);return[(1+Ve)*s/(1+Ve*s)-Re,o,a]},toBase(e){let[t,n,r]=e,i=l(Be,[(t+Re)/(1+Ve-Ve*(t+Re)),n,r]).map((function(e){return 1e4*((Se-e**Ye)/(ke*e**Ye-je))**Ce})),[s,o,a]=l(Le,i),c=(s+(Me-1)*a)/Me;return[c,(o+(Ee-1)*c)/Ee,a]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),ze=new $({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ie,fromBase(e){let t,[n,r,i]=e;const s=2e-4;return t=Math.abs(r)<s&&Math.abs(i)<s?NaN:180*Math.atan2(i,r)/Math.PI,[n,Math.sqrt(r**2+i**2),re(t)]},toBase:e=>[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]});const Pe=.8359375,Te=2413/128,$e=18.6875,We=2610/16384,Oe=2523/32,De=16384/2610,qe=32/2523,Ge=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Je=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Fe=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Ze=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]];var Ue=new $({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:xe,fromBase:e=>function(e){let t=e.map((function(e){return((Pe+Te*(e/1e4)**We)/(1+$e*(e/1e4)**We))**Oe}));return l(Je,t)}(l(Ge,e)),toBase(e){let t=function(e){return l(Fe,e).map((function(e){return 1e4*(Math.max(e**qe-Pe,0)/(Te-$e*e**qe))**De}))}(e);return l(Ze,t)}});const Qe=R.D65,Ke=1/.42,et=2*Math.PI,tt=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],nt=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],rt=[[460,451,288],[460,-891,-261],[460,-220,-6300]],it={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},st={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},ot=180/Math.PI,at=Math.PI/180;function lt(e,t){return e.map((e=>{const n=E(t*Math.abs(e)*.01,.42);return 400*M(n,e)/(n+27.13)}))}function ct(e,t,n,r,i){const s={};s.discounting=i,s.refWhite=e,s.surround=r;const o=e.map((e=>100*e));s.la=t,s.yb=n;const a=o[1],c=l(tt,o),u=(r=it[s.surround])[0];s.c=r[1],s.nc=r[2];const h=(1/(5*s.la+1))**4;s.fl=h*s.la+.1*(1-h)*(1-h)*Math.cbrt(5*s.la),s.flRoot=s.fl**.25,s.n=s.yb/a,s.z=1.48+Math.sqrt(s.n),s.nbb=.725*s.n**-.2,s.ncb=s.nbb;const d=Math.max(Math.min(u*(1-1/3.6*Math.exp((-s.la-42)/92)),1),0);s.dRgb=c.map((e=>b(1,a/e,d))),s.dRgbInv=s.dRgb.map((e=>1/e));const g=lt(c.map(((e,t)=>e*s.dRgb[t])),s.fl);return s.aW=s.nbb*(2*g[0]+g[1]+.05*g[2]),s}const ut=ct(Qe,64/Math.PI*.2,20,"average",!1);function ht(e,t){if(!(void 0!==e.J^void 0!==e.Q))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(void 0!==e.C^void 0!==e.M^void 0!==e.s))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(void 0!==e.h^void 0!==e.H))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(0===e.J||0===e.Q)return[0,0,0];let n=0;n=void 0!==e.h?re(e.h)*at:function(e){let t=(e%400+400)%400;const n=Math.floor(.01*t);t%=100;const[r,i]=st.h.slice(n,n+2),[s,o]=st.e.slice(n,n+2);return re((t*(o*r-s*i)-100*r*o)/(t*(o-s)-100*o))}(e.H)*at;const r=Math.cos(n),i=Math.sin(n);let s=0;void 0!==e.J?s=.1*E(e.J,.5):void 0!==e.Q&&(s=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let o=0;void 0!==e.C?o=e.C/s:void 0!==e.M?o=e.M/t.flRoot/s:void 0!==e.s&&(o=4e-4*e.s**2*(t.aW+4)/t.c);const a=E(o*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),c=.25*(Math.cos(n+2)+3.8),u=t.aW*E(s,2/t.c/t.z),h=5e4/13*t.nc*t.ncb*c,d=u/t.nbb,g=23*(d+.305)*N(a,23*h+a*(11*r+108*i)),p=function(e,t){const n=100/t*27.13**Ke;return e.map((e=>{const t=Math.abs(e);return M(n*E(t/(400-t),Ke),e)}))}(l(rt,[d,g*r,g*i]).map((e=>1*e/1403)),t.fl);return l(nt,p.map(((e,n)=>e*t.dRgbInv[n]))).map((e=>e/100))}function dt(e,t){const n=e.map((e=>100*e)),r=lt(l(tt,n).map(((e,n)=>e*t.dRgb[n])),t.fl),i=r[0]+(-12*r[1]+r[2])/11,s=(r[0]+r[1]-2*r[2])/9,o=(Math.atan2(s,i)%et+et)%et,a=.25*(Math.cos(o+2)+3.8),c=E(5e4/13*t.nc*t.ncb*N(a*Math.sqrt(i**2+s**2),r[0]+r[1]+1.05*r[2]+.305),.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),u=E(t.nbb*(2*r[0]+r[1]+.05*r[2])/t.aW,.5*t.c*t.z),h=100*E(u,2),d=4/t.c*u*(t.aW+4)*t.flRoot,g=c*u,p=g*t.flRoot,m=re(o*ot),f=function(e){let t=re(e);t<=st.h[0]&&(t+=360);const n=C(st.h,t)-1,[r,i]=st.h.slice(n,n+2),[s,o]=st.e.slice(n,n+2),a=(t-r)/s;return st.H[n]+100*a/(a+(i-t)/o)}(m);return{J:h,C:g,h:m,s:50*E(t.c*c/(t.aW+4),.5),Q:d,M:p,H:f}}var gt=new $({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:D,fromBase(e){const t=dt(e,ut);return[t.J,t.M,t.h]},toBase:e=>ht({J:e[0],M:e[1],h:e[2]},ut)});const pt=R.D65,mt=216/24389,ft=24389/27;function wt(e){return e>8?Math.pow((e+16)/116,3):e/ft}function bt(e,t){const n=function(e){return 116*(e>mt?Math.cbrt(e):(ft*e+16)/116)-16}(e[1]);if(0===n)return[0,0,0];const r=dt(e,vt);return[re(r.h),r.C,n]}const vt=ct(pt,200/Math.PI*wt(50),100*wt(50),"average",!1);var yt=new $({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:D,fromBase:e=>bt(e),toBase:e=>function(e,t){let[n,r,i]=e,s=[],o=0;if(0===i)return[0,0,0];let a=wt(i);o=i>0?.00379058511492914*i**2+.608983189401032*i+.9155088574762233:9514440756550361e-21*i**2+.08693057439788597*i-21.928975842194614;let l=0,c=1/0;for(;l<=15;){s=ht({J:o,C:r,h:n},t);const e=Math.abs(s[1]-a);if(e<c){if(e<=2e-12)return s;c=e}o-=(s[1]-a)*o/(2*s[1]),l+=1}return ht({J:o,C:r,h:n},t)}(e,vt),formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const _t=Math.PI/180,xt=[1,.007,.0228];function Mt(e){e[1]<0&&(e=yt.fromBase(yt.toBase(e)));const t=Math.log(Math.max(1+xt[2]*e[1]*vt.flRoot,1))/xt[2],n=e[0]*_t,r=t*Math.cos(n),i=t*Math.sin(n);return[e[2],r,i]}var Et={deltaE76:function(e,t){return ye(e,t,"lab")},deltaECMC:function(e,t,n){let{l:r=2,c:i=1}=void 0===n?{}:n;[e,t]=z([e,t]);let[s,o,a]=ne.from(e),[,l,c]=ie.from(ne,[s,o,a]),[u,h,d]=ne.from(t),g=ie.from(ne,[u,h,d])[1];l<0&&(l=0),g<0&&(g=0);let p=s-u,m=l-g,f=(o-h)**2+(a-d)**2-m**2,w=.511;s>=16&&(w=.040975*s/(1+.01765*s));let b,v=.0638*l/(1+.0131*l)+.638;Number.isNaN(c)&&(c=0),b=c>=164&&c<=345?.56+Math.abs(.2*Math.cos((c+168)*_e)):.36+Math.abs(.4*Math.cos((c+35)*_e));let y=Math.pow(l,4),_=Math.sqrt(y/(y+1900)),x=(p/(r*w))**2;return x+=(m/(i*v))**2,x+=f/(v*(_*b+1-_))**2,Math.sqrt(x)},deltaE2000:ue,deltaEJz:function(e,t){[e,t]=z([e,t]);let[n,r,i]=ze.from(e),[s,o,a]=ze.from(t),l=n-s,c=r-o;Number.isNaN(i)&&Number.isNaN(a)?(i=0,a=0):Number.isNaN(i)?i=a:Number.isNaN(a)&&(a=i);let u=i-a,h=2*Math.sqrt(r*o)*Math.sin(u/2*(Math.PI/180));return Math.sqrt(l**2+c**2+h**2)},deltaEITP:function(e,t){[e,t]=z([e,t]);let[n,r,i]=Ue.from(e),[s,o,a]=Ue.from(t);return 720*Math.sqrt((n-s)**2+.25*(r-o)**2+(i-a)**2)},deltaEOK:fe,deltaEHCT:function(e,t){[e,t]=z([e,t]);let[n,r,i]=Mt(yt.from(e)),[s,o,a]=Mt(yt.from(t));return Math.sqrt((n-s)**2+(r-o)**2+(i-a)**2)}};const Nt={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Ct(e,t){let n,{method:r=V.gamut_mapping,space:i,deltaEMethod:s="",jnd:o=2,blackWhiteClamp:a={}}=void 0===t?{}:t;if(e=z(e),c(arguments[1])?i=arguments[1]:i||(i=e.space),i=$.get(i),be(e,i,{epsilon:0}))return e;if("css"===r)n=function(e,t){let{space:n}=void 0===t?{}:t;e=z(e),n||(n=e.space),n=$.get(n);const r=$.get("oklch");if(n.isUnbounded)return jt(e,n);const i=jt(e,r);let s=i.coords[0];if(s>=1){const t=jt(St.WHITE,n);return t.alpha=e.alpha,jt(t,n)}if(s<=0){const t=jt(St.BLACK,n);return t.alpha=e.alpha,jt(t,n)}if(be(i,n,{epsilon:0}))return jt(i,n);function o(e){const t=jt(e,n),r=Object.values(n.coords);return t.coords=t.coords.map(((e,t)=>{if("range"in r[t]){const[n,i]=r[t].range;return x(n,e,i)}return e})),t}let a=0,l=i.coords[1],c=!0,u=ve(i),h=o(u),d=fe(h,u);if(d<.02)return h;for(;l-a>1e-4;){const e=(a+l)/2;if(u.coords[1]=e,c&&be(u,n,{epsilon:0}))a=e;else if(h=o(u),d=fe(h,u),d<.02){if(.02-d<1e-4)break;c=!1,a=e}else l=e}return h}(e,{space:i});else{if("clip"===r||be(e,i))n=jt(e,i);else{Object.prototype.hasOwnProperty.call(Nt,r)&&({method:r,jnd:o,deltaEMethod:s,blackWhiteClamp:a}=Nt[r]);let t=ue;if(""!==s)for(let e in Et)if("deltae"+s.toLowerCase()===e.toLowerCase()){t=Et[e];break}let l=Ct(jt(e,i),{method:"clip",space:i});if(t(e,l)>o){if(3===Object.keys(a).length){let t=$.resolveCoord(a.channel),n=J(jt(e,t.space),t.id);if(d(n)&&(n=0),n>=a.max)return jt({space:"xyz-d65",coords:R.D65},e.space);if(n<=a.min)return jt({space:"xyz-d65",coords:[0,0,0]},e.space)}let s=$.resolveCoord(r),l=s.space,c=s.id,u=jt(e,l);u.coords.forEach(((e,t)=>{d(e)&&(u.coords[t]=0)}));let h=(s.range||s.refRange)[0],g=function(e){const t=e?Math.floor(Math.log10(Math.abs(e))):0;return Math.max(parseFloat("1e"+(t-2)),1e-6)}(o),p=h,m=J(u,c);for(;m-p>g;){let e=ve(u);e=Ct(e,{space:i,method:"clip"}),t(u,e)-o<g?p=J(u,c):m=J(u,c),Z(u,c,(p+m)/2)}n=jt(u,i)}else n=l}if("clip"===r||!be(n,i,{epsilon:0})){let e=Object.values(i.coords).map((e=>e.range||[]));n.coords=n.coords.map(((t,n)=>{let[r,i]=e[n];return void 0!==r&&(t=Math.max(r,t)),void 0!==i&&(t=Math.min(t,i)),t}))}}return i!==e.space&&(n=jt(n,e.space)),e.coords=n.coords,e}Ct.returns="color";const St={WHITE:{space:me,coords:[1,0,0]},BLACK:{space:me,coords:[0,0,0]}};function jt(e,t,n){let{inGamut:r}=void 0===n?{}:n;e=z(e);let i=(t=$.get(t)).from(e),s={space:t,coords:i,alpha:e.alpha};return r&&(s=Ct(s,!0===r?void 0:r)),s}function kt(e,t){let{precision:n=V.precision,format:r="default",inGamut:i=!0,...s}=void 0===t?{}:t;var o;let a,l=r;r=(e=z(e)).space.getFormat(r)??e.space.getFormat("default")??$.DEFAULT_FORMAT;let c=e.coords.slice();if(i||(i=r.toGamut),i&&!be(e)&&(c=Ct(ve(e),!0===i?void 0:i).coords),"custom"===r.type){if(s.precision=n,!r.serialize)throw new TypeError(`format ${l} can only be used to parse colors, not for serialization`);a=r.serialize(c,e.alpha,s)}else{let t=r.name||"color";r.serializeCoords?c=r.serializeCoords(c,n):null!==n&&(c=c.map((e=>h(e,{precision:n}))));let i=[...c];if("color"===t){let t=r.id||(null==(o=r.ids)?void 0:o[0])||e.space.id;i.unshift(t)}let s=e.alpha;null!==n&&(s=h(s,{precision:n}));let l=e.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${s}`;a=`${t}(${i.join(r.commas?", ":" ")}${l})`}return a}jt.returns="color";var Xt=new q({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]]});const Yt=1.09929682680944,Vt=.018053968510807;var Rt=new q({id:"rec2020",name:"REC.2020",base:Xt,toBase:e=>e.map((function(e){return e<4.5*Vt?e/4.5:Math.pow((e+Yt-1)/Yt,1/.45)})),fromBase:e=>e.map((function(e){return e>=Vt?Yt*Math.pow(e,.45)-(Yt-1):4.5*e}))});var At=new q({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]});const Lt=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var Ht=new q({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:Lt}),Bt={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let It=Array(3).fill("<percentage> | <number>[0, 255]"),zt=Array(3).fill("<number>[0, 255]");var Pt=new q({id:"srgb",name:"sRGB",base:Ht,fromBase:e=>e.map((e=>{let t=e<0?-1:1,n=e*t;return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e})),toBase:e=>e.map((e=>{let t=e<0?-1:1,n=e*t;return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4})),formats:{rgb:{coords:It},rgb_number:{name:"rgb",commas:!0,coords:zt,noAlpha:!0},color:{},rgba:{coords:It,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:zt},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,(e=>{t.push(parseInt(e,16)/255)})),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:function(e,t,n){let{collapse:r=!0}=void 0===n?{}:n;t<1&&e.push(t),e=e.map((e=>Math.round(255*e)));let i=r&&e.every((e=>e%17==0));return"#"+e.map((e=>i?(e/17).toString(16):e.toString(16).padStart(2,"0"))).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){let t={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(e=e.toLowerCase())?(t.coords=Bt.black,t.alpha=0):t.coords=Bt[e],t.coords)return t}}}}),Tt=new q({id:"p3",cssId:"display-p3",name:"P3",base:At,fromBase:Pt.fromBase,toBase:Pt.toBase});let $t;if(V.display_space=Pt,typeof CSS<"u"&&CSS.supports)for(let Mi of[ne,Rt,Tt]){let e=Mi.getMinCoords(),t=kt({space:Mi,coords:e,alpha:1});if(CSS.supports("color",t)){V.display_space=Mi;break}}function Wt(e){return J(e,[D,"y"])}function Ot(e,t){Z(e,[D,"y"],t)}var Dt=Object.freeze({__proto__:null,getLuminance:Wt,register:function(e){Object.defineProperty(e.prototype,"luminance",{get(){return Wt(this)},set(e){Ot(this,e)}})},setLuminance:Ot});function qt(e){return e>=.022?e:e+(.022-e)**1.414}function Gt(e){let t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,2.4)}const Jt=216/24389,Ft=24/116,Zt=24389/27;let Ut=R.D65;var Qt=new $({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Ut,base:D,fromBase(e){let t=e.map(((e,t)=>e/Ut[t])).map((e=>e>Jt?Math.cbrt(e):(Zt*e+16)/116));return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>Ft?Math.pow(t[0],3):(116*t[0]-16)/Zt,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/Zt,t[2]>Ft?Math.pow(t[2],3):(116*t[2]-16)/Zt].map(((e,t)=>e*Ut[t]))},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const Kt=.5*Math.pow(5,.5)+.5;var en=Object.freeze({__proto__:null,contrastAPCA:function(e,t){let n,r,i,s,o,a;t=z(t),e=z(e),t=jt(t,"srgb"),[s,o,a]=t.coords;let l=.2126729*Gt(s)+.7151522*Gt(o)+.072175*Gt(a);e=jt(e,"srgb"),[s,o,a]=e.coords;let c=.2126729*Gt(s)+.7151522*Gt(o)+.072175*Gt(a),u=qt(l),h=qt(c),d=h>u;return Math.abs(h-u)<5e-4?r=0:d?(n=h**.56-u**.57,r=1.14*n):(n=h**.65-u**.62,r=1.14*n),i=Math.abs(r)<.1?0:r>0?r-.027:r+.027,100*i},contrastDeltaPhi:function(e,t){e=z(e),t=z(t);let n=J(e,[Qt,"l"]),r=J(t,[Qt,"l"]),i=Math.abs(Math.pow(n,Kt)-Math.pow(r,Kt)),s=Math.pow(i,1/Kt)*Math.SQRT2-40;return s<7.5?0:s},contrastLstar:function(e,t){e=z(e),t=z(t);let n=J(e,[ne,"l"]),r=J(t,[ne,"l"]);return Math.abs(n-r)},contrastMichelson:function(e,t){e=z(e),t=z(t);let n=Math.max(Wt(e),0),r=Math.max(Wt(t),0);r>n&&([n,r]=[r,n]);let i=n+r;return 0===i?0:(n-r)/i},contrastWCAG21:function(e,t){e=z(e),t=z(t);let n=Math.max(Wt(e),0),r=Math.max(Wt(t),0);return r>n&&([n,r]=[r,n]),(n+.05)/(r+.05)},contrastWeber:function(e,t){e=z(e),t=z(t);let n=Math.max(Wt(e),0),r=Math.max(Wt(t),0);return r>n&&([n,r]=[r,n]),0===r?5e4:(n-r)/r}});function tn(e){let[t,n,r]=G(e,D),i=t+15*n+3*r;return[4*t/i,9*n/i]}function nn(e){let[t,n,r]=G(e,D),i=t+n+r;return[t/i,n/i]}var rn=Object.freeze({__proto__:null,register:function(e){Object.defineProperty(e.prototype,"uv",{get(){return tn(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return nn(this)}})},uv:tn,xy:nn});function sn(e,t,n){void 0===n&&(n={}),c(n)&&(n={method:n});let{method:r=V.deltaE,...i}=n;for(let s in Et)if("deltae"+r.toLowerCase()===s.toLowerCase())return Et[s](e,t,i);throw new TypeError(`Unknown deltaE method: ${r}`)}var on=Object.freeze({__proto__:null,darken:function(e,t){return void 0===t&&(t=.25),Z(e,[$.get("oklch","lch"),"l"],(e=>e*(1-t)))},lighten:function(e,t){return void 0===t&&(t=.25),Z(e,[$.get("oklch","lch"),"l"],(e=>e*(1+t)))}});function an(e,t,n,r){return void 0===n&&(n=.5),void 0===r&&(r={}),[e,t]=[z(e),z(t)],"object"===u(n)&&([n,r]=[.5,n]),cn(e,t,r)(n)}function ln(e,t,n){let r;void 0===n&&(n={}),un(e)&&([r,n]=[e,t],[e,t]=r.rangeArgs.colors);let{maxDeltaE:i,deltaEMethod:s,steps:o=2,maxSteps:a=1e3,...l}=n;r||([e,t]=[z(e),z(t)],r=cn(e,t,l));let c=sn(e,t),u=i>0?Math.max(o,Math.ceil(c/i)+1):o,h=[];if(void 0!==a&&(u=Math.min(u,a)),1===u)h=[{p:.5,color:r(.5)}];else{let e=1/(u-1);h=Array.from({length:u},((t,n)=>{let i=n*e;return{p:i,color:r(i)}}))}if(i>0){let e=h.reduce(((e,t,n)=>{if(0===n)return 0;let r=sn(t.color,h[n-1].color,s);return Math.max(e,r)}),0);for(;e>i;){e=0;for(let t=1;t<h.length&&h.length<a;t++){let n=h[t-1],i=h[t],s=(i.p+n.p)/2,o=r(s);e=Math.max(e,sn(o,n.color),sn(o,i.color)),h.splice(t,0,{p:s,color:r(s)}),t++}}}return h=h.map((e=>e.color)),h}function cn(e,t,n){if(void 0===n&&(n={}),un(e)){let[n,r]=[e,t];return cn(...n.rangeArgs.colors,{...n.rangeArgs.options,...r})}let{space:r,outputSpace:i,progression:s,premultiplied:o}=n;e=z(e),t=z(t),e=ve(e),t=ve(t);let a={colors:[e,t],options:n};if(r=r?$.get(r):$.registry[V.interpolationSpace]||e.space,i=i?$.get(i):r,e=jt(e,r),t=jt(t,r),e=Ct(e),t=Ct(t),r.coords.h&&"angle"===r.coords.h.type){let i=n.hue=n.hue||"shorter",s=[r,"h"],[o,a]=[J(e,s),J(t,s)];isNaN(o)&&!isNaN(a)?o=a:isNaN(a)&&!isNaN(o)&&(a=o),[o,a]=function(e,t){if("raw"===e)return t;let[n,r]=t.map(re),i=r-n;return"increasing"===e?i<0&&(r+=360):"decreasing"===e?i>0&&(n+=360):"longer"===e?-180<i&&i<180&&(i>0?n+=360:r+=360):"shorter"===e&&(i>180?n+=360:i<-180&&(r+=360)),[n,r]}(i,[o,a]),Z(e,s,o),Z(t,s,a)}return o&&(e.coords=e.coords.map((t=>t*e.alpha)),t.coords=t.coords.map((e=>e*t.alpha))),Object.assign((n=>{n=s?s(n):n;let a=e.coords.map(((e,r)=>b(e,t.coords[r],n))),l=b(e.alpha,t.alpha,n),c={space:r,coords:a,alpha:l};return o&&(c.coords=c.coords.map((e=>e/l))),i!==r&&(c=jt(c,i)),c}),{rangeArgs:a})}function un(e){return"function"===u(e)&&!!e.rangeArgs}V.interpolationSpace="lab";var hn=Object.freeze({__proto__:null,isRange:un,mix:an,range:cn,register:function(e){e.defineFunction("mix",an,{returns:"color"}),e.defineFunction("range",cn,{returns:"function<color>"}),e.defineFunction("steps",ln,{returns:"array<color>"})},steps:ln}),dn=new $({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Pt,fromBase:e=>{let t=Math.max(...e),n=Math.min(...e),[r,i,s]=e,[o,a,l]=[NaN,0,(n+t)/2],c=t-n;if(0!==c){switch(a=0===l||1===l?0:(t-l)/Math.min(l,1-l),t){case r:o=(i-s)/c+(i<s?6:0);break;case i:o=(s-r)/c+2;break;case s:o=(r-i)/c+4}o*=60}return a<0&&(o+=180,a=Math.abs(a)),o>=360&&(o-=360),[o,100*a,100*l]},toBase:e=>{let[t,n,r]=e;function i(e){let i=(e+t/30)%12,s=n*Math.min(r,1-r);return r-s*Math.max(-1,Math.min(i-3,9-i,1))}return t%=360,t<0&&(t+=360),n/=100,r/=100,[i(0),i(8),i(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),gn=new $({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:dn,fromBase(e){let[t,n,r]=e;n/=100,r/=100;let i=r+n*Math.min(r,1-r);return[t,0===i?0:200*(1-r/i),100*i]},toBase(e){let[t,n,r]=e;n/=100,r/=100;let i=r*(1-n/2);return[t,0===i||1===i?0:(r-i)/Math.min(i,1-i)*100,100*i]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),pn=new $({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:gn,fromBase(e){let[t,n,r]=e;return[t,r*(100-n)/100,100-r]},toBase(e){let[t,n,r]=e;n/=100,r/=100;let i=n+r;if(i>=1){return[t,0,100*(n/i)]}let s=1-r;return[t,100*(0===s?0:1-n/s),100*s]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});var mn=new q({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xae 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),fn=new q({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xae 98 RGB compatible",base:mn,toBase:e=>e.map((e=>Math.pow(Math.abs(e),563/256)*Math.sign(e))),fromBase:e=>e.map((e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)))});var wn=new q({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:U,toXYZ_M:[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],fromXYZ_M:[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]]});const bn=1/512;var vn=new q({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:wn,toBase:e=>e.map((e=>e<.03125?e/16:e**1.8)),fromBase:e=>e.map((e=>e>=bn?e**(1/1.8):16*e))}),yn=new $({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:me,fromBase(e){let t,[n,r,i]=e;const s=2e-4;return t=Math.abs(r)<s&&Math.abs(i)<s?NaN:180*Math.atan2(i,r)/Math.PI,[n,Math.sqrt(r**2+i**2),re(t)]},toBase(e){let t,n,[r,i,s]=e;return isNaN(s)?(t=0,n=0):(t=i*Math.cos(s*Math.PI/180),n=i*Math.sin(s*Math.PI/180)),[r,t,n]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});let _n=R.D65;const xn=216/24389,Mn=24389/27,[En,Nn]=tn({space:D,coords:_n});var Cn=new $({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:_n,base:D,fromBase(e){let t=[g(e[0]),g(e[1]),g(e[2])],n=t[1],[r,i]=tn({space:D,coords:t});if(!Number.isFinite(r)||!Number.isFinite(i))return[0,0,0];let s=n<=xn?Mn*n:116*Math.cbrt(n)-16;return[s,13*s*(r-En),13*s*(i-Nn)]},toBase(e){let[t,n,r]=e;if(0===t||d(t))return[0,0,0];n=g(n),r=g(r);let i=n/(13*t)+En,s=r/(13*t)+Nn,o=t<=8?t/Mn:Math.pow((t+16)/116,3);return[o*(9*i/(4*s)),o,o*((12-3*i-20*s)/(4*s))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Sn=new $({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Cn,fromBase(e){let t,[n,r,i]=e;return t=Math.abs(r)<.02&&Math.abs(i)<.02?NaN:180*Math.atan2(i,r)/Math.PI,[n,Math.sqrt(r**2+i**2),re(t)]},toBase(e){let[t,n,r]=e;return n<0&&(n=0),isNaN(r)&&(r=0),[t,n*Math.cos(r*Math.PI/180),n*Math.sin(r*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const jn=216/24389,kn=24389/27,Xn=Lt[0][0],Yn=Lt[0][1],Vn=Lt[0][2],Rn=Lt[1][0],An=Lt[1][1],Ln=Lt[1][2],Hn=Lt[2][0],Bn=Lt[2][1],In=Lt[2][2];function zn(e,t,n){const r=t/(Math.sin(n)-e*Math.cos(n));return r<0?1/0:r}function Pn(e){const t=Math.pow(e+16,3)/1560896,n=t>jn?t:e/kn,r=n*(284517*Xn-94839*Vn),i=n*(838422*Vn+769860*Yn+731718*Xn),s=n*(632260*Vn-126452*Yn),o=n*(284517*Rn-94839*Ln),a=n*(838422*Ln+769860*An+731718*Rn),l=n*(632260*Ln-126452*An),c=n*(284517*Hn-94839*In),u=n*(838422*In+769860*Bn+731718*Hn),h=n*(632260*In-126452*Bn);return{r0s:r/s,r0i:i*e/s,r1s:r/(s+126452),r1i:(i-769860)*e/(s+126452),g0s:o/l,g0i:a*e/l,g1s:o/(l+126452),g1i:(a-769860)*e/(l+126452),b0s:c/h,b0i:u*e/h,b1s:c/(h+126452),b1i:(u-769860)*e/(h+126452)}}function Tn(e,t){const n=t/360*Math.PI*2,r=zn(e.r0s,e.r0i,n),i=zn(e.r1s,e.r1i,n),s=zn(e.g0s,e.g0i,n),o=zn(e.g1s,e.g1i,n),a=zn(e.b0s,e.b0i,n),l=zn(e.b1s,e.b1i,n);return Math.min(r,i,s,o,a,l)}var $n=new $({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Sn,gamutSpace:Pt,fromBase(e){let t,[n,r,i]=[g(e[0]),g(e[1]),g(e[2])];if(n>99.9999999)t=0,n=100;else if(n<1e-8)t=0,n=0;else{t=r/Tn(Pn(n),i)*100}return[i,t,n]},toBase(e){let t,[n,r,i]=[g(e[0]),g(e[1]),g(e[2])];if(i>99.9999999)i=100,t=0;else if(i<1e-8)i=0,t=0;else{t=Tn(Pn(i),n)/100*r}return[i,t,n]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});function Wn(e,t){return Math.abs(t)/Math.sqrt(Math.pow(e,2)+1)}function On(e){let t=Wn(e.r0s,e.r0i),n=Wn(e.r1s,e.r1i),r=Wn(e.g0s,e.g0i),i=Wn(e.g1s,e.g1i),s=Wn(e.b0s,e.b0i),o=Wn(e.b1s,e.b1i);return Math.min(t,n,r,i,s,o)}Lt[0][0],Lt[0][1],Lt[0][2],Lt[1][0],Lt[1][1],Lt[1][2],Lt[2][0],Lt[2][1],Lt[2][2];var Dn=new $({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Sn,gamutSpace:"self",fromBase(e){let t,[n,r,i]=[g(e[0]),g(e[1]),g(e[2])];if(n>99.9999999)t=0,n=100;else if(n<1e-8)t=0,n=0;else{t=r/On(Pn(n))*100}return[i,t,n]},toBase(e){let t,[n,r,i]=[g(e[0]),g(e[1]),g(e[2])];if(i>99.9999999)i=100,t=0;else if(i<1e-8)i=0,t=0;else{t=On(Pn(i))/100*r}return[i,t,n]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const qn=2610/16384,Gn=16384/2610,Jn=32/2523,Fn=.8359375,Zn=2413/128,Un=18.6875;var Qn=new q({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:Xt,toBase:e=>e.map((function(e){return(Math.max(e**Jn-Fn,0)/(Zn-Un*e**Jn))**Gn*1e4/203})),fromBase:e=>e.map((function(e){let t=Math.max(203*e/1e4,0);return((Fn+Zn*t**qn)/(1+Un*t**qn))**78.84375}))});const Kn=.17883277,er=.28466892,tr=.55991073,nr=3.7743;var rr=new q({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Xt,toBase:e=>e.map((function(e){return e<=.5?e**2/3*nr:(Math.exp((e-tr)/Kn)+er)/12*nr})),fromBase:e=>e.map((function(e){return(e/=nr)<=1/12?Math.sqrt(3*e):Kn*Math.log(12*e-er)+tr}))});const ir={};function sr(e){let{id:t,toCone_M:n,fromCone_M:r}=e;ir[t]=arguments[0]}function or(e,t,n){void 0===n&&(n="Bradford");let r=ir[n],[i,s,o]=l(r.toCone_M,e),[a,c,u]=l(r.toCone_M,t),h=l([[a/i,0,0],[0,c/s,0],[0,0,u/o]],r.toCone_M);return l(r.fromCone_M,h)}j.add("chromatic-adaptation-start",(e=>{e.options.method&&(e.M=or(e.W1,e.W2,e.options.method))})),j.add("chromatic-adaptation-end",(e=>{e.M||(e.M=or(e.W1,e.W2,e.options.method))})),sr({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]}),sr({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]}),sr({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]}),sr({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]}),Object.assign(R,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),R.ACES=[.32168/.33767,1,.34065/.33767];var ar=new q({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:R.ACES,toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]]});const lr=2**-16,cr=-.35828683,ur=(Math.log2(65504)+9.72)/17.52;var hr=new q({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[cr,ur],name:"Red"},g:{range:[cr,ur],name:"Green"},b:{range:[cr,ur],name:"Blue"}},referred:"scene",base:ar,toBase:e=>e.map((function(e){return e<=-.3013698630136986?2*(2**(17.52*e-9.72)-lr):e<ur?2**(17.52*e-9.72):65504})),fromBase:e=>e.map((function(e){return e<=0?(Math.log2(lr)+9.72)/17.52:e<lr?(Math.log2(lr+.5*e)+9.72)/17.52:(Math.log2(e)+9.72)/17.52}))}),dr=Object.freeze({__proto__:null,A98RGB:fn,A98RGB_Linear:mn,ACEScc:hr,ACEScg:ar,CAM16_JMh:gt,HCT:yt,HPLuv:Dn,HSL:dn,HSLuv:$n,HSV:gn,HWB:pn,ICTCP:Ue,JzCzHz:ze,Jzazbz:Ie,LCH:ie,LCHuv:Sn,Lab:ne,Lab_D65:Qt,Luv:Cn,OKLCH:yn,OKLab:me,P3:Tt,P3_Linear:At,ProPhoto:vn,ProPhoto_Linear:wn,REC_2020:Rt,REC_2020_Linear:Xt,REC_2100_HLG:rr,REC_2100_PQ:Qn,XYZ_ABS_D65:xe,XYZ_D50:U,XYZ_D65:D,sRGB:Pt,sRGB_Linear:Ht});class gr{constructor(){let e,t,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];1===s.length&&(e=z(s[0])),e?(t=e.space||e.spaceId,n=e.coords,r=e.alpha):[t,n,r]=s,Object.defineProperty(this,"space",{value:$.get(t),writable:!1,enumerable:!0,configurable:!0}),this.coords=n?n.slice():[0,0,0],this.alpha=r>1||void 0===r?1:r<0?0:r;for(let a=0;a<this.coords.length;a++)"NaN"===this.coords[a]&&(this.coords[a]=NaN);for(let a in this.space.coords)Object.defineProperty(this,a,{get:()=>this.get(a),set:e=>this.set(a,e)})}get spaceId(){return this.space.id}clone(){return new gr(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=function(e,t){let{space:n=V.display_space,...r}=void 0===t?{}:t,i=kt(e,r);if(typeof CSS>"u"||CSS.supports("color",i)||!V.display_space)i=new String(i),i.color=e;else{let t=e;if((e.coords.some(d)||d(e.alpha))&&!($t??($t=CSS.supports("color","hsl(none 50% 50%)")))&&(t=ve(e),t.coords=t.coords.map(g),t.alpha=g(t.alpha),i=kt(t,r),CSS.supports("color",i)))return i=new String(i),i.color=t,i;t=jt(t,n),i=new String(kt(t,r)),i.color=t}return i}(this,...t);return r.color=new gr(r.color),r}static get(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e instanceof gr?e:new gr(e,...n)}static defineFunction(e,t,n){void 0===n&&(n=t);let{instance:r=!0,returns:i}=n,s=function(){let e=t(...arguments);if("color"===i)e=gr.get(e);else if("function<color>"===i){let t=e;e=function(){let e=t(...arguments);return gr.get(e)},Object.assign(e,t)}else"array<color>"===i&&(e=e.map((e=>gr.get(e))));return e};e in gr||(gr[e]=s),r&&(gr.prototype[e]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(this,...t)})}static defineFunctions(e){for(let t in e)gr.defineFunction(t,e[t],e[t])}static extend(e){if(e.register)e.register(gr);else for(let t in e)gr.defineFunction(t,e[t])}}gr.defineFunctions({get:J,getAll:G,set:Z,setAll:F,to:jt,equals:function(e,t){return e=z(e),t=z(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every(((e,n)=>e===t.coords[n]))},inGamut:be,toGamut:Ct,distance:ye,toString:kt}),Object.assign(gr,{util:S,hooks:j,WHITES:R,Space:$,spaces:$.registry,parse:I,defaults:V});for(let Mi of Object.keys(dr))$.register(dr[Mi]);for(let Mi in $.registry)pr(Mi,$.registry[Mi]);function pr(e,t){let n=e.replace(/-/g,"_");Object.defineProperty(gr.prototype,n,{get(){let n=this.getAll(e);return typeof Proxy>"u"?n:new Proxy(n,{has:(e,n)=>{try{return $.resolveCoord([t,n]),!0}catch{}return Reflect.has(e,n)},get:(e,n,r)=>{if(n&&"symbol"!=typeof n&&!(n in e)){let{index:r}=$.resolveCoord([t,n]);if(r>=0)return e[r]}return Reflect.get(e,n,r)},set:(n,r,i,s)=>{if(r&&"symbol"!=typeof r&&!(r in n)||r>=0){let{index:s}=$.resolveCoord([t,r]);if(s>=0)return n[s]=i,this.setAll(e,n),!0}return Reflect.set(n,r,i,s)}})},set(t){this.setAll(e,t)},configurable:!0,enumerable:!0})}j.add("colorspace-init-end",(e=>{var t;pr(e.id,e),null==(t=e.aliases)||t.forEach((t=>{pr(t,e)}))})),gr.extend(Et),gr.extend({deltaE:sn}),Object.assign(gr,{deltaEMethods:Et}),gr.extend(on),gr.extend({contrast:function(e,t,n){void 0===n&&(n={}),c(n)&&(n={algorithm:n});let{algorithm:r,...i}=n;if(!r){let e=Object.keys(en).map((e=>e.replace(/^contrast/,""))).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${e}`)}e=z(e),t=z(t);for(let s in en)if("contrast"+r.toLowerCase()===s.toLowerCase())return en[s](e,t,i);throw new TypeError(`Unknown contrast algorithm: ${r}`)}}),gr.extend(rn),gr.extend(Dt),gr.extend(hn),gr.extend(en);class mr{constructor(e){a(this,"_alpha"),this._alpha=Math.max(0,Math.min(1,e))}getNumber(){return this._alpha}toString(){return this._alpha.toString()}}class fr{constructor(e){a(this,"_delta"),this._delta=Math.max(0,e)}toString(){return this._delta.toString()}getNumber(){return this._delta}}class wr{constructor(e){a(this,"_length"),this._length=Math.max(0,e)}toString(){return this._length+"px"}getNumber(){return this._length}}class br{constructor(e){a(this,"_coordinate"),this._coordinate=e}getNumber(){return this._coordinate}toString(){return this._coordinate.toString()+"px"}}class vr{constructor(e,t){a(this,"_x"),a(this,"_y"),this._x=e,this._y=t}getX(){return this._x}getY(){return this._y}}class yr{}class _r extends yr{constructor(e){super(),a(this,"_id"),this._id=e}getGeometryElement(e){return e.geometryElementManager.requestGeometryElements(this._id)[0]}}function xr(e){return new Mr(e)}class Mr extends _r{getReactiveValue(e){return this.getGeometryElement(e).getCenter()}}function Er(e){return new Nr(e)}class Nr extends _r{getReactiveValue(e){return this.getGeometryElement(e).fill}}class Cr extends yr{constructor(e){super(),a(this,"_onChangeHandlers",new Set),a(this,"_value"),this._value=e}getReactiveValue(){return this}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._onChangeHandlers.forEach((t=>t(e))))}getValue(){return this._value}subscribe(e){this._onChangeHandlers.add(e)}unsubscribe(e){this._onChangeHandlers.delete(e)}}class Sr extends Cr{constructor(e){super(e)}setValue(e){this.value=e}toStringRecursive(){return`Primitive(${this.value})`}}function jr(e){return e instanceof Cr?e:new Sr(e)}class kr extends Cr{constructor(e,t){super(t(e)),a(this,"_dependencies"),this._dependencies=e;for(const n of e)n.subscribe((()=>{this.value=t(e)}))}toStringRecursive(){return`Functional(${Array.from(this._dependencies).map((e=>e.toStringRecursive())).join(", ")})`}}function Xr(e){return{x:new kr([e],(e=>{let[t]=e;var n;return null==(n=t.getValue())?void 0:n.getX()})),y:new kr([e],(e=>{let[t]=e;var n;return null==(n=t.getValue())?void 0:n.getY()}))}}class Yr extends Cr{constructor(e){super(e.getValue()),a(this,"_wrappedValue"),a(this,"_changeCallback",(e=>{this.value=e})),this._wrappedValue=e,this.wrap(e)}wrap(e){this._wrappedValue.unsubscribe(this._changeCallback),this._wrappedValue=e,this.value=e.getValue(),this._wrappedValue.subscribe(this._changeCallback)}unwrap(){return this._wrappedValue}toStringRecursive(){return`Wrapped(${this._wrappedValue.toStringRecursive()})`}}class Vr extends Yr{}class Rr{constructor(e){a(this,"_currentSelection",[]),a(this,"_geometryElementManager"),this._geometryElementManager=e}select(){const e=new Set(this._geometryElementManager.requestGeometryElements(...arguments));return this._currentSelection=this._currentSelection.filter((t=>e.has(t))),this}add(){return this._currentSelection.push(...this._geometryElementManager.requestGeometryElements(...arguments)),this}addRange(e,t){const n=Array.from({length:t-e+1},((t,n)=>e+n));return this.add(n)}remove(){const e=new Set(this._geometryElementManager.requestGeometryElements(...arguments));return this._currentSelection=this._currentSelection.filter((t=>!e.has(t))),this}removeRange(e,t){return this._currentSelection=this._currentSelection.filter((n=>!("number"==typeof n&&n>=e&&n<=t))),this}clear(){return this._currentSelection=[],this}all(){return this._currentSelection=this._geometryElementManager.getGeometryElements(),this}build(){return this._currentSelection}}function Ar(e){return new kr([e],(e=>{let[t]=e;const n=t.getValue().getNumber();return new mr(n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2)}))}function Lr(e){return e}function Hr(e){return new kr([e],(e=>{let[t]=e;const n=t.getValue().getNumber();return new mr(0===n?0:1)}))}class Br{getCenterX(){return jr(void 0)}getCenterY(){return jr(void 0)}getRadius(){return jr(void 0)}getRadiusX(){return jr(void 0)}getRadiusY(){return jr(void 0)}getTopLeftX(){return jr(void 0)}getTopLeftY(){return jr(void 0)}getWidth(){return jr(void 0)}getHeight(){return jr(void 0)}getStartX(){return jr(void 0)}getStartY(){return jr(void 0)}getEndX(){return jr(void 0)}getEndY(){return jr(void 0)}getControlX1(){return jr(void 0)}getControlY1(){return jr(void 0)}getControlX2(){return jr(void 0)}getControlY2(){return jr(void 0)}getChild(){return jr(void 0)}toRectangle(){}getPathLength(){return jr(void 0)}}const Ir="http://www.w3.org/2000/svg";class zr extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"g"))}toStringRecursive(){return"EmptyShape"}getDomElement(){return this._domElement}}class Pr{constructor(){a(this,"_domElement",document.createElementNS(Ir,"g")),a(this,"_changedStyles",{}),a(this,"_changedAttribute",{}),a(this,"zIndex",new Vr(new Sr(0))),a(this,"deleted",new Vr(new Sr(!1))),a(this,"fill",new Vr(new Sr(void 0))),a(this,"cursor",new Vr(new Sr(void 0))),a(this,"fillOpacity",new Vr(new Sr(void 0))),a(this,"opacity",new Vr(new Sr(void 0))),a(this,"stroke",new Vr(new Sr(void 0))),a(this,"strokeOpacity",new Vr(new Sr(void 0))),a(this,"strokeWidth",new Vr(new Sr(void 0))),a(this,"strokeLinecap",new Vr(new Sr(void 0))),a(this,"strokeLinejoin",new Vr(new Sr(void 0))),a(this,"strokeMiterlimit",new Vr(new Sr(void 0))),a(this,"strokeDasharray",new Vr(new Sr(void 0))),a(this,"strokeDashoffset",new Vr(new Sr(void 0))),a(this,"visibility",new Vr(new Sr(void 0))),a(this,"shape",new Vr(jr(new zr))),a(this,"_centerX",new Vr(jr(void 0))),a(this,"_centerY",new Vr(jr(void 0))),a(this,"_radius",new Vr(jr(void 0))),a(this,"_topLeftX",new Vr(jr(void 0))),a(this,"_topLeftY",new Vr(jr(void 0))),a(this,"_width",new Vr(jr(void 0))),a(this,"_height",new Vr(jr(void 0))),a(this,"_radiusX",new Vr(jr(void 0))),a(this,"_radiusY",new Vr(jr(void 0))),a(this,"_startX",new Vr(jr(void 0))),a(this,"_startY",new Vr(jr(void 0))),a(this,"_endX",new Vr(jr(void 0))),a(this,"_endY",new Vr(jr(void 0))),a(this,"_control1X",new Vr(jr(void 0))),a(this,"_control1Y",new Vr(jr(void 0))),a(this,"_control2X",new Vr(jr(void 0))),a(this,"_control2Y",new Vr(jr(void 0))),a(this,"_child",new Vr(jr(void 0))),a(this,"_pathLength",new Vr(jr(void 0))),this.setupStyle(this.fill,"fill"),this.setupStyle(this.cursor,"cursor"),this.setupStyle(this.fillOpacity,"fill-opacity"),this.setupStyle(this.opacity,"opacity"),this.setupStyle(this.stroke,"stroke"),this.setupStyle(this.strokeOpacity,"stroke-opacity"),this.setupStyle(this.strokeWidth,"stroke-width"),this.setupStyle(this.strokeLinecap,"stroke-linecap"),this.setupStyle(this.strokeLinejoin,"stroke-linejoin"),this.setupStyle(this.strokeMiterlimit,"stroke-miterlimit"),this.setupStyle(this.strokeDasharray,"stroke-dasharray"),this.setupStyle(this.strokeDashoffset,"stroke-dashoffset"),this.setupStyle(this.visibility,"visibility"),this.shape.subscribe((e=>{this._centerX.wrap(e.getCenterX()),this._centerY.wrap(e.getCenterY()),this._radius.wrap(e.getRadius()),this._topLeftX.wrap(e.getTopLeftX()),this._topLeftY.wrap(e.getTopLeftY()),this._width.wrap(e.getWidth()),this._height.wrap(e.getHeight()),this._radiusX.wrap(e.getRadiusX()),this._radiusY.wrap(e.getRadiusY()),this._startX.wrap(e.getStartX()),this._startY.wrap(e.getStartY()),this._endX.wrap(e.getEndX()),this._endY.wrap(e.getEndY()),this._control1X.wrap(e.getControlX1()),this._control1Y.wrap(e.getControlY1()),this._control2X.wrap(e.getControlX2()),this._control2Y.wrap(e.getControlY2()),this._child.wrap(e.getChild())}))}setupStyle(e,t){e.subscribe((e=>{this._changedStyles[t]=(null==e?void 0:e.toString())??null}))}setupAttribute(e,t){e.subscribe((e=>{this._changedAttribute[t]=(null==e?void 0:e.toString())??null}))}get domElement(){return this._domElement}draw(){Object.assign(this._domElement.style,this._changedStyles),this._changedStyles={};for(const[e,t]of Object.entries(this._changedAttribute))null===t?this._domElement.removeAttribute(e):this._domElement.setAttribute(e,t);this._domElement.replaceChildren(this.shape.getValue().getDomElement())}getCenterX(){return this._centerX}getCenterY(){return this._centerY}getCenter(){return e=this._centerX,t=this._centerY,new kr([e,t],(e=>{let[t,n]=e;const r=t.getValue(),i=n.getValue();if(void 0!==r&&void 0!==i)return new vr(r,i)}));var e,t}getRadius(){return this._radius}getTopLeftX(){return this._topLeftX}getTopLeftY(){return this._topLeftY}getWidth(){return this._width}getHeight(){return this._height}getRadiusX(){return this._radiusX}getRadiusY(){return this._radiusY}getStartX(){return this._startX}getStartY(){return this._startY}getEndX(){return this._endX}getEndY(){return this._endY}getControl1X(){return this._control1X}getControl1Y(){return this._control1Y}getControl2X(){return this._control2X}getControl2Y(){return this._control2Y}getChild(){return this._child}getPathLength(){return this._pathLength}}class Tr extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"svg")),a(this,"child",new Vr(jr(void 0))),a(this,"width",new Vr(jr(void 0))),a(this,"height",new Vr(jr(void 0))),a(this,"x",new Vr(jr(void 0))),a(this,"y",new Vr(jr(void 0))),this.setupAttribute(this.x,"x"),this.setupAttribute(this.y,"y"),this.setupAttribute(this.width,"width"),this.setupAttribute(this.height,"height"),this.child.subscribe((e=>{void 0===e?this._domElement.replaceChildren():this._domElement.replaceChildren(e)}))}setupAttribute(e,t){e.subscribe((e=>{void 0===e?this._domElement.removeAttribute(t):this._domElement.setAttribute(t,e)}))}toStringRecursive(){var e;return`ContainerShape(${null==(e=this.child.getValue())?void 0:e.constructor.name})`}getDomElement(){return this._domElement}getTopLeftX(){return this.x}getTopLeftY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}getChild(){return this.child}}class $r extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"rect")),a(this,"x",new Vr(jr(void 0))),a(this,"y",new Vr(jr(void 0))),a(this,"width",new Vr(jr(void 0))),a(this,"height",new Vr(jr(void 0))),a(this,"rx",new Vr(jr(void 0))),a(this,"ry",new Vr(jr(void 0))),this.setupAttribute(this.x,"x"),this.setupAttribute(this.y,"y"),this.setupAttribute(this.width,"width"),this.setupAttribute(this.height,"height"),this.setupAttribute(this.rx,"rx"),this.setupAttribute(this.ry,"ry")}setupAttribute(e,t){e.subscribe((e=>{void 0===e?this._domElement.removeAttribute(t):this._domElement.setAttribute(t,e)}))}getDomElement(){return this._domElement}getCenterX(){return new kr([this.x,this.width],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s)return new br(s+(o??0)/2)}))}getCenterY(){return new kr([this.y,this.height],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s)return new br(s+(o??0)/2)}))}toRectangle(){return this}getRadius(){return new kr([this.width,this.height],(()=>{const e=this.width.getValue(),t=this.height.getValue();if(void 0!==e&&void 0!==t)return new wr((e.getNumber()+t.getNumber())/4)}))}getRadiusX(){return this.rx}getRadiusY(){return this.ry}getTopLeftX(){return this.x}getTopLeftY(){return this.y}getHeight(){return this.height}getWidth(){return this.width}}class Wr extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"circle")),a(this,"cx",new Vr(jr(void 0))),a(this,"cy",new Vr(jr(void 0))),a(this,"rx",new Vr(jr(void 0))),a(this,"ry",new Vr(jr(void 0))),this.setupAttribute(this.cx,"cx"),this.setupAttribute(this.cy,"cy"),this.setupAttribute(this.rx,"rx"),this.setupAttribute(this.ry,"ry")}setupAttribute(e,t){e.subscribe((e=>{void 0===e?this._domElement.removeAttribute(t):this._domElement.setAttribute(t,e)}))}getDomElement(){return this._domElement}toEllipse(){return this}toRectangle(){const e=new $r;return e.x.wrap(new kr([this.cx,this.rx],(e=>{let[t,n]=e;const r=t.getValue(),i=n.getValue();if(void 0!==r&&void 0!==i)return new br(r.getNumber()-i.getNumber())}))),e.y.wrap(new kr([this.cy,this.ry],(e=>{let[t,n]=e;const r=t.getValue(),i=n.getValue();if(void 0!==r&&void 0!==i)return new br(r.getNumber()-i.getNumber())}))),e.width.wrap(new kr([this.rx],(e=>{let[t]=e;const n=t.getValue();if(void 0!==n)return new wr(2*n.getNumber())}))),e.height.wrap(new kr([this.ry],(e=>{let[t]=e;const n=t.getValue();if(void 0!==n)return new wr(2*n.getNumber())}))),e.rx.wrap(this.rx),e.ry.wrap(this.ry),e}getCenterX(){return this.cx}getCenterY(){return this.cy}getRadius(){return new kr([this.rx,this.ry],(()=>{const e=this.rx.getValue(),t=this.ry.getValue();if(void 0!==e&&void 0!==t)return new wr((e.getNumber()+t.getNumber())/2)}))}getRadiusX(){return this.rx}getRadiusY(){return this.ry}getTopLeftX(){return new kr([this.cx,this.rx],(()=>{const e=this.cx.getValue(),t=this.rx.getValue()??new wr(0);if(void 0!==e)return new br(e.getNumber()-t.getNumber())}))}getTopLeftY(){return new kr([this.cy,this.ry],(()=>{const e=this.cy.getValue(),t=this.ry.getValue()??new wr(0);if(void 0!==e)return new br(e.getNumber()-t.getNumber())}))}getWidth(){return new kr([this.rx],(()=>{const e=this.rx.getValue();if(void 0!==e)return new wr(2*e.getNumber())}))}getHeight(){return new kr([this.ry],(()=>{const e=this.ry.getValue();if(void 0!==e)return new wr(2*e.getNumber())}))}}class Or extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"circle")),a(this,"cx",new Vr(jr(void 0))),a(this,"cy",new Vr(jr(void 0))),a(this,"r",new Vr(jr(void 0))),this.setupAttribute(this.cx,"cx"),this.setupAttribute(this.cy,"cy"),this.setupAttribute(this.r,"r")}setupAttribute(e,t){e.subscribe((e=>{void 0===e?this._domElement.removeAttribute(t):this._domElement.setAttribute(t,e)}))}getDomElement(){return this._domElement}toCircle(){return this}toEllipse(){const e=new Wr;return e.cx.wrap(this.cx),e.cy.wrap(this.cy),e.rx.wrap(this.r),e.ry.wrap(this.r),e}toRectangle(){return this.toEllipse().toRectangle()}getCenterX(){return this.cx}getCenterY(){return this.cy}getRadius(){return this.r}getRadiusX(){return this.r}getRadiusY(){return this.r}getTopLeftX(){return new Vr(new kr([this.cx,this.r],(()=>{const e=this.cx.getValue(),t=this.r.getValue()??new wr(0);if(void 0!==e)return new br(e.getNumber()-t.getNumber())})))}getTopLeftY(){return new Vr(new kr([this.cy,this.r],(()=>{const e=this.cy.getValue(),t=this.r.getValue()??new wr(0);if(void 0!==e)return new br(e.getNumber()-t.getNumber())})))}getWidth(){return new Vr(new kr([this.r],(()=>{const e=this.r.getValue();if(void 0!==e)return new wr(2*e.getNumber())})))}getHeight(){return this.getWidth()}}class Dr extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"line")),a(this,"x1",new Vr(jr(void 0))),a(this,"x2",new Vr(jr(void 0))),a(this,"y1",new Vr(jr(void 0))),a(this,"y2",new Vr(jr(void 0))),a(this,"pathLength",new Vr(jr(void 0))),this.setupAttribute(this.x1,"x1"),this.setupAttribute(this.x2,"x2"),this.setupAttribute(this.y1,"y1"),this.setupAttribute(this.y2,"y2"),this.setupAttribute(this.pathLength,"pathLength")}setupAttribute(e,t){e.subscribe((e=>{void 0===e?this._domElement.removeAttribute(t):this._domElement.setAttribute(t,e)}))}getDomElement(){return this._domElement}getCenterX(){return new kr([this.x1,this.x2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br((s+o)/2)}))}getCenterY(){return new kr([this.y1,this.y2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br((s+o)/2)}))}getStartX(){return this.x1}getStartY(){return this.y1}getEndX(){return this.x2}getEndY(){return this.y2}getTopLeftX(){return new kr([this.x1,this.x2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br(Math.min(s,o))}))}getTopLeftY(){return new kr([this.y1,this.y2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br(Math.min(s,o))}))}getWidth(){return new kr([this.x1,this.x2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new wr(Math.abs(o-s))}))}getHeight(){return new kr([this.y1,this.y2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new wr(Math.abs(o-s))}))}getControlX1(){return new kr([this.x1,this.x2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br(s+(o-s)/3)}))}getControlY1(){return new kr([this.y1,this.y2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br(s+(o-s)/3)}))}getControlX2(){return new kr([this.x1,this.x2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br(s+2/3*(o-s))}))}getControlY2(){return new kr([this.y1,this.y2],(e=>{let[t,n]=e;var r,i;const s=null==(r=t.getValue())?void 0:r.getNumber(),o=null==(i=n.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o)return new br(s+2/3*(o-s))}))}getPathLength(){return this.pathLength}toRectangle(){const e=new $r;return e.x.wrap(this.getTopLeftX()),e.y.wrap(this.getTopLeftY()),e.width.wrap(this.getWidth()),e.height.wrap(this.getHeight()),e.rx.wrap(this.getRadiusX()),e.ry.wrap(this.getRadiusY()),e}}function qr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue(),o=r.getValue().getNumber();if(0===o)return i;if(1===o||void 0===i||void 0===s)return s;const a=i.getNumber(),l=s.getNumber();return new mr(a+(l-a)*o)}))}function Gr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue(),o=r.getValue().getNumber();return 0===o?i:1===o||void 0===i||void 0===s?s:i.range(s,{space:"srgb"})(o)}))}function Jr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue(),o=r.getValue().getNumber();if(0===o)return i;if(1===o||void 0===i||void 0===s)return s;const a=i.getNumber(),l=s.getNumber();return new br(a+(l-a)*o)}))}function Fr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue(),o=r.getValue().getNumber();if(0===o)return i;if(1===o||void 0===i||void 0===s)return s;const a=i.getNumber(),l=s.getNumber();return new fr(a+(l-a)*o)}))}function Zr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue();return r.getValue().getNumber()<=.5?i:s}))}function Ur(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue(),o=r.getValue().getNumber();if(0===o)return i;if(1===o||void 0===i||void 0===s)return s;const a=i.getNumber(),l=s.getNumber();return new wr(a+(l-a)*o)}))}function Qr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue();return i+(n.getValue()-i)*r.getValue().getNumber()}))}function Kr(e,t,n){return new kr([e,t,n],(e=>{let[t,n,r]=e;const i=t.getValue(),s=n.getValue(),o=r.getValue().getNumber();return 0===o?i:1===o?s:void 0!==i&&void 0!==s?i+(s-i)*o:void 0}))}function ei(e){return(t,n)=>new kr([e,t,n],(()=>{const r=t.getValue(),i=n.getValue().getNumber(),s=e.getValue();if(0===i)return r;if(1===i||void 0===r||void 0===s)return s;const o=r.toRectangle(),a=s.toRectangle();if(void 0!==o&&void 0!==a){const e=new $r;return e.x.wrap(new kr([o.x,a.x],(()=>{const e=o.x.getValue(),t=a.x.getValue();return new br((1-i)*((null==e?void 0:e.getNumber())??0)+i*((null==t?void 0:t.getNumber())??0))}))),e.y.wrap(new kr([o.y,a.y],(()=>{const e=o.y.getValue(),t=a.y.getValue();return new br((1-i)*((null==e?void 0:e.getNumber())??0)+i*((null==t?void 0:t.getNumber())??0))}))),e.width.wrap(new kr([o.width,a.width],(()=>{const e=o.width.getValue(),t=a.width.getValue();return new wr((1-i)*((null==e?void 0:e.getNumber())??0)+i*((null==t?void 0:t.getNumber())??0))}))),e.height.wrap(new kr([o.height,a.height],(()=>{const e=o.height.getValue(),t=a.height.getValue();return new wr((1-i)*((null==e?void 0:e.getNumber())??0)+i*((null==t?void 0:t.getNumber())??0))}))),e.rx.wrap(new kr([o.rx,a.rx],(()=>{const e=o.rx.getValue(),t=a.rx.getValue();return new wr((1-i)*((null==e?void 0:e.getNumber())??0)+i*((null==t?void 0:t.getNumber())??0))}))),e.ry.wrap(new kr([o.ry,a.ry],(()=>{const e=o.ry.getValue(),t=a.ry.getValue();return new wr((1-i)*((null==e?void 0:e.getNumber())??0)+i*((null==t?void 0:t.getNumber())??0))}))),e}return s}))}class ti{constructor(e){let{context:t,elements:n,updatedShapes:r}=e;a(this,"_context"),a(this,"_elements"),a(this,"_updatedShapes"),this._context=t,this._elements=n,this._updatedShapes=r,this._elements.forEach((e=>{const t=e.getCenterX().unwrap(),n=e.getCenterY().unwrap(),r=e.getRadius().unwrap(),i=new Or;i.cx.wrap(t),i.cy.wrap(n),i.r.wrap(r),this._updatedShapes.set(e,i)}))}_plainHelper(e,t,n,r){let{easing:i,interpolation:s}=t;const o=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),a=i(this._context.progress);return this._elements.forEach((e=>{n(this._updatedShapes.get(e)).wrap(s(r(e).unwrap(),o,a))})),this}centerX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.cx),(e=>e.getCenterX()))}centerY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.cy),(e=>e.getCenterY()))}center(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.centerX(s,{easing:n,interpolation:r}),this.centerY(o,{easing:n,interpolation:r}),this}radius(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.r),(e=>e.getRadius()))}}class ni{constructor(e){let{context:t,elements:n,updatedShapes:r}=e;a(this,"_context"),a(this,"_elements"),a(this,"_updatedShapes"),this._context=t,this._elements=n,this._updatedShapes=r,this._elements.forEach((e=>{const t=e.getStartX().unwrap(),n=e.getStartY().unwrap(),r=e.getEndX().unwrap(),i=e.getEndY().unwrap(),s=e.getPathLength().unwrap(),o=new Dr;o.x1.wrap(t),o.y1.wrap(n),o.x2.wrap(r),o.y2.wrap(i),o.pathLength.wrap(s),this._updatedShapes.set(e,o)}))}_plainHelper(e,t,n,r){let{easing:i,interpolation:s}=t;const o=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),a=i(this._context.progress);return this._elements.forEach((e=>{n(this._updatedShapes.get(e)).wrap(s(r(e).unwrap(),o,a))})),this}startX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.x1),(e=>e.getStartX()))}startY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.y1),(e=>e.getStartY()))}start(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.startX(s,{easing:n,interpolation:r}),this.startY(o,{easing:n,interpolation:r}),this}endX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.x2),(e=>e.getEndX()))}endY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.y2),(e=>e.getEndY()))}end(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.endX(s,{easing:n,interpolation:r}),this.endY(o,{easing:n,interpolation:r}),this}pathLength(e,t){let{easing:n=Hr,interpolation:r=Kr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.pathLength),(e=>e.getPathLength()))}}class ri{constructor(e){let{context:t,elements:n,updatedShapes:r}=e;a(this,"_context"),a(this,"_elements"),a(this,"_updatedShapes"),this._context=t,this._elements=n,this._updatedShapes=r,this._elements.forEach((e=>{const t=e.getTopLeftX().unwrap(),n=e.getTopLeftY().unwrap(),r=e.getWidth().unwrap(),i=e.getHeight().unwrap(),s=e.getRadiusX().unwrap(),o=e.getRadiusY().unwrap(),a=new $r;a.x.wrap(t),a.y.wrap(n),a.width.wrap(r),a.height.wrap(i),a.rx.wrap(s),a.ry.wrap(o),this._updatedShapes.set(e,a)}))}_plainHelper(e,t,n,r){let{easing:i,interpolation:s}=t;const o=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),a=i(this._context.progress);return this._elements.forEach((e=>{n(this._updatedShapes.get(e)).wrap(s(r(e).unwrap(),o,a))})),this}topLeftX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.x),(e=>e.getTopLeftX()))}topLeftY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.y),(e=>e.getTopLeftY()))}width(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.width),(e=>e.getWidth()))}height(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.height),(e=>e.getHeight()))}cornerRadiusX(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.rx),(e=>e.getRadiusX()))}cornerRadiusY(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.ry),(e=>e.getRadiusY()))}}class ii{constructor(e){let{context:t,elements:n,updatedShapes:r}=e;a(this,"_context"),a(this,"_elements"),a(this,"_updatedShapes"),this._context=t,this._elements=n,this._updatedShapes=r,this._elements.forEach((e=>{const t=e.getTopLeftX().unwrap(),n=e.getTopLeftY().unwrap(),r=e.getWidth().unwrap(),i=e.getHeight().unwrap(),s=new Tr;s.x.wrap(t),s.y.wrap(n),s.width.wrap(r),s.height.wrap(i),this._updatedShapes.set(e,s)}))}_plainHelper(e,t,n,r){let{easing:i,interpolation:s}=t;const o=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),a=i(this._context.progress);return this._elements.forEach((e=>{n(this._updatedShapes.get(e)).wrap(s(r(e).unwrap(),o,a))})),this}child(e,t){let{easing:n=Hr,interpolation:r=Zr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.child),(e=>e.getChild()))}topLeftX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.x),(e=>e.getTopLeftX()))}topLeftY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.y),(e=>e.getTopLeftY()))}width(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.width),(e=>e.getWidth()))}height(e,t){let{easing:n=Hr,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.height),(e=>e.getHeight()))}}class si extends Br{constructor(){super(),a(this,"_domElement",document.createElementNS(Ir,"path")),a(this,"startX",new Vr(jr(void 0))),a(this,"startY",new Vr(jr(void 0))),a(this,"control1X",new Vr(jr(void 0))),a(this,"control1Y",new Vr(jr(void 0))),a(this,"control2X",new Vr(jr(void 0))),a(this,"control2Y",new Vr(jr(void 0))),a(this,"endX",new Vr(jr(void 0))),a(this,"endY",new Vr(jr(void 0))),a(this,"_d",new kr([this.startX,this.startY,this.control1X,this.control1Y,this.control2X,this.control2Y,this.endX,this.endY],(e=>{var t,n,r,i,s,o,a,l;const c=null==(t=this.startX.getValue())?void 0:t.getNumber(),u=null==(n=this.startY.getValue())?void 0:n.getNumber(),h=null==(r=this.control1X.getValue())?void 0:r.getNumber(),d=null==(i=this.control1Y.getValue())?void 0:i.getNumber(),g=null==(s=this.control2X.getValue())?void 0:s.getNumber(),p=null==(o=this.control2Y.getValue())?void 0:o.getNumber(),m=null==(a=this.endX.getValue())?void 0:a.getNumber(),f=null==(l=this.endY.getValue())?void 0:l.getNumber();if(void 0!==c&&void 0!==u&&void 0!==h&&void 0!==d&&void 0!==g&&void 0!==p&&void 0!==m&&void 0!==f)return`M ${c} ${u} C ${h} ${d} ${g} ${p} ${m} ${f}`}))),this.setupAttribute(this._d,"d")}setupAttribute(e,t){e.subscribe((e=>{void 0===e?this._domElement.removeAttribute(t):this._domElement.setAttribute(t,e)}))}getDomElement(){return this._domElement}getCenterX(){return new kr([this.startX,this.control1X,this.control2X,this.endX],(e=>{var t,n,r,i;const s=null==(t=this.startX.getValue())?void 0:t.getNumber(),o=null==(n=this.control1X.getValue())?void 0:n.getNumber(),a=null==(r=this.control2X.getValue())?void 0:r.getNumber(),l=null==(i=this.endX.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o&&void 0!==a&&void 0!==l)return new br((s+l)/8+3*(o+a)/8)}))}getCenterY(){return new kr([this.startY,this.control1X,this.control2X,this.endX],(e=>{var t,n,r,i;const s=null==(t=this.startY.getValue())?void 0:t.getNumber(),o=null==(n=this.control1Y.getValue())?void 0:n.getNumber(),a=null==(r=this.control2Y.getValue())?void 0:r.getNumber(),l=null==(i=this.endY.getValue())?void 0:i.getNumber();if(void 0!==s&&void 0!==o&&void 0!==a&&void 0!==l)return new br((s+l)/8+3*(o+a)/8)}))}getStartX(){return this.startX}getStartY(){return this.startY}getEndX(){return this.endX}getEndY(){return this.endY}getControlX1(){return this.control1X}getControlY1(){return this.control1Y}getControlX2(){return this.control2X}getControlY2(){return this.control2Y}}class oi{constructor(e){let{context:t,elements:n,updatedShapes:r}=e;a(this,"_context"),a(this,"_elements"),a(this,"_updatedShapes"),this._context=t,this._elements=n,this._updatedShapes=r,this._elements.forEach((e=>{const t=e.getStartX().unwrap(),n=e.getStartY().unwrap(),r=e.getControl1X().unwrap(),i=e.getControl1Y().unwrap(),s=e.getControl2X().unwrap(),o=e.getControl2Y().unwrap(),a=e.getEndX().unwrap(),l=e.getEndY().unwrap(),c=new si;c.startX.wrap(t),c.startY.wrap(n),c.control1X.wrap(r),c.control1Y.wrap(i),c.control2X.wrap(s),c.control2Y.wrap(o),c.endX.wrap(a),c.endY.wrap(l),this._updatedShapes.set(e,c)}))}_plainHelper(e,t,n,r){let{easing:i,interpolation:s}=t;const o=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),a=i(this._context.progress);return this._elements.forEach((e=>{n(this._updatedShapes.get(e)).wrap(s(r(e).unwrap(),o,a))})),this}startX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.startX),(e=>e.getStartX()))}startY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.startY),(e=>e.getStartY()))}start(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.startX(s,{easing:n,interpolation:r}),this.startY(o,{easing:n,interpolation:r}),this}control1X(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.control1X),(e=>e.getControl1X()))}control1Y(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.control1Y),(e=>e.getControl1Y()))}control1(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.control1X(s,{easing:n,interpolation:r}),this.control1Y(o,{easing:n,interpolation:r}),this}control2X(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.control2X),(e=>e.getControl2X()))}control2Y(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.control2Y),(e=>e.getControl2Y()))}control2(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.control2X(s,{easing:n,interpolation:r}),this.control2Y(o,{easing:n,interpolation:r}),this}endX(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.endX),(e=>e.getEndX()))}endY(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;return"number"==typeof e&&(e=new br(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.endY),(e=>e.getEndY()))}end(e,t){let{easing:n=Hr,interpolation:r=Jr}=void 0===t?{}:t;const i=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),{x:s,y:o}=Xr(i);return this.endX(s,{easing:n,interpolation:r}),this.endY(o,{easing:n,interpolation:r}),this}}class ai{constructor(e){let{elements:t,context:n}=e;a(this,"_elements"),a(this,"_context"),this._elements=t,this._context=n}_plainHelper(e,t,n){let{easing:r,interpolation:i}=t;const s=e instanceof yr?e.getReactiveValue(this._context):new Sr(e),o=r(this._context.progress);return this._elements.forEach((e=>{this._context.updatedValues.set(n(e),i(n(e).unwrap(),s,o))})),this}zIndex(e,t){let{easing:n=Ar,interpolation:r=Qr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.zIndex))}fill(e,t){let{easing:n=Ar,interpolation:r=Gr}=void 0===t?{}:t;return"string"==typeof e&&(e=new gr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.fill))}cursor(e,t){let{easing:n=Ar,interpolation:r=Zr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.cursor))}fillOpacity(e,t){let{easing:n=Ar,interpolation:r=qr}=void 0===t?{}:t;return"number"==typeof e&&(e=new mr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.fillOpacity))}opacity(e,t){let{easing:n=Ar,interpolation:r=qr}=void 0===t?{}:t;return"number"==typeof e&&(e=new mr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.opacity))}stroke(e,t){let{easing:n=Ar,interpolation:r=Gr}=void 0===t?{}:t;return"string"==typeof e&&(e=new gr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.stroke))}strokeOpacity(e,t){let{easing:n=Ar,interpolation:r=qr}=void 0===t?{}:t;return"number"==typeof e&&(e=new mr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeOpacity))}strokeWidth(e,t){let{easing:n=Ar,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeWidth))}strokeLinecap(e,t){let{easing:n=Ar,interpolation:r=Zr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeLinecap))}strokeLinejoin(e,t){let{easing:n=Ar,interpolation:r=Zr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeLinejoin))}strokeMiterlimit(e,t){let{easing:n=Ar,interpolation:r=Fr}=void 0===t?{}:t;return"number"==typeof e&&(e=new fr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeMiterlimit))}strokeDasharray(e,t){let{easing:n=Ar,interpolation:r=Zr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeDasharray))}strokeDashoffset(e,t){let{easing:n=Ar,interpolation:r=Ur}=void 0===t?{}:t;return"number"==typeof e&&(e=new wr(e)),this._plainHelper(e,{easing:n,interpolation:r},(e=>e.strokeDashoffset))}visibility(e,t){let{easing:n=Ar,interpolation:r=Zr}=void 0===t?{}:t;return this._plainHelper(e,{easing:n,interpolation:r},(e=>e.visibility))}shape(e,t){let{easing:n=Ar}=void 0===t?{}:t;const r=ei(e instanceof yr?e.getReactiveValue(this._context):new Sr(e)),i=n(this._context.progress);return this._elements.forEach((e=>{this._context.updatedValues.set(e.shape,r(e.shape.unwrap(),i))})),this}circle(e,t){let{easing:n=Ar}=void 0===t?{}:t;const r=new Map,i=new ti({context:this._context,elements:this._elements,updatedShapes:r});e&&e(i);const s=n(this._context.progress);return r.forEach(((e,t)=>{this._context.updatedValues.set(t.shape,ei(jr(e))(t.shape.unwrap(),s))})),this}rectangle(e,t){let{easing:n=Lr}=void 0===t?{}:t;const r=new Map,i=new ri({context:this._context,elements:this._elements,updatedShapes:r});e&&e(i);const s=n(this._context.progress);return r.forEach(((e,t)=>{this._context.updatedValues.set(t.shape,ei(jr(e))(t.shape.unwrap(),s))})),this}line(e,t){let{easing:n=Lr}=void 0===t?{}:t;const r=new Map,i=new ni({context:this._context,elements:this._elements,updatedShapes:r});e&&e(i);const s=n(this._context.progress);return r.forEach(((e,t)=>{this._context.updatedValues.set(t.shape,ei(jr(e))(t.shape.unwrap(),s))})),this}cubicBezier(e,t){let{easing:n=Lr}=void 0===t?{}:t;const r=new Map,i=new oi({context:this._context,elements:this._elements,updatedShapes:r});e&&e(i);const s=n(this._context.progress);return r.forEach(((e,t)=>{this._context.updatedValues.set(t.shape,ei(jr(e))(t.shape.unwrap(),s))})),this}containerShape(e,t){let{easing:n=Lr}=void 0===t?{}:t;const r=new Map,i=new ii({context:this._context,elements:this._elements,updatedShapes:r});e&&e(i);const s=n(this._context.progress);return r.forEach(((e,t)=>{this._context.updatedValues.set(t.shape,ei(jr(e))(t.shape.unwrap(),s))})),this}}class li{constructor(e){let{geometryElementManager:t,updatedValues:n}=e;a(this,"_duration",0),a(this,"_context"),a(this,"_marks",new Map);const r=new Map(n);this._context={oldUpdatedValues:n,updatedValues:r,progress:new Vr(jr(new mr(1))),geometryElementManager:t}}duration(e){this._duration=e}markStart(e){this.markAt(new mr(0),e)}markEnd(e){this.markAt(new mr(1),e)}markAt(e,t){this._marks.set(t,e)}build(){return this._context.oldUpdatedValues.clear(),this._context.updatedValues.forEach(((e,t)=>{this._context.oldUpdatedValues.set(t,e)})),{duration:this._duration,progress:this._context.progress,marks:this._marks}}getElement(e){return this._context.geometryElementManager.requestGeometryElements([e])[0]}getCircle(e){return this._context.geometryElementManager.requestGeometryElements(e)[0].shape}select(){const e=new Rr(this._context.geometryElementManager);return e.add(...arguments),new ai({elements:e.build(),context:this._context})}query(e){const t=new Rr(this._context.geometryElementManager);e(t);const n=t.build();return new ai({elements:n,context:this._context})}}class ci{constructor(e){let{duration:t,progress:n,drawing:r,marks:i}=e;a(this,"_duration"),a(this,"_progress"),a(this,"_drawing"),a(this,"_running",new Vr(new Sr(void 0))),a(this,"_marks"),this._duration=t,this._progress=n,this._drawing=r,this._marks=i}get marks(){return this._marks}get progress(){return this._progress}get running(){return this._running}normalizedTime(e){return e/this._duration}seekProgress(e){this._progress.wrap(new Sr(e)),this._drawing.draw()}seek(e){this.seekProgress(new mr(this.normalizedTime(e)))}seekMark(e){const t=this._marks.get(e);if(void 0===t)throw new Error(`No mark with identifier ${String(e)}`);this.seekProgress(t)}stop(){this._running.wrap(new Sr(void 0))}play(e){let t,{to:n,progress:r,mark:i,direction:s,playbackRate:o=1}=void 0===e?{}:e;const a=Symbol();if(this._running.wrap(new Sr(a)),[n,r,i].map((e=>void 0===e?0:1)).reduce(((e,t)=>e+t),0)>1)throw new Error('At most one of "to", "progress", or "mark" must be specified');let l;if(void 0!==n)l=this.normalizedTime(n);else if(void 0!==r)l=r.getNumber();else if(void 0!==i){const e=this._marks.get(i);if(void 0===e)throw new Error(`No mark with identifier ${String(i)}`);l=e.getNumber()}else l=-1===s?0:1;if(void 0===s&&(s=l>this._progress.getValue().getNumber()?1:-1),o<=0)throw new Error("playbackRate must be positive");const c=e=>{if(this._running.getValue()!==a)return;void 0===t&&(t=e);const n=(e-t)/1e3;t=e;const r=this._progress.getValue().getNumber()+s*o*this.normalizedTime(n);this._progress.wrap(new Sr(new mr(r))),this._drawing.draw(),1===s&&this._progress.getValue().getNumber()>=l||-1===s&&this._progress.getValue().getNumber()<=l?this._running.wrap(new Sr(void 0)):requestAnimationFrame(c)};requestAnimationFrame(c)}}class ui{constructor(e){a(this,"svg"),a(this,"_geometryElements",new Set),this.svg=e??document.createElementNS(Ir,"svg")}addGeometryElements(e){if(e instanceof Pr)return this.addGeometryElements([e]);for(const t of e)this._geometryElements.add(t)}deleteGeometryElements(e){if(e instanceof Pr)return this.deleteGeometryElements([e]);for(const t of e)this._geometryElements.delete(t)}draw(){this.svg.replaceChildren();const e=[...this._geometryElements].filter((e=>!e.deleted.getValue())).sort(((e,t)=>e.zIndex.getValue()-t.zIndex.getValue()));e.forEach((e=>{e.draw()})),this.svg.replaceChildren(...e.map((e=>e.domElement)))}}function hi(e){let{animatables:t,geometryElementManager:n,updatedValues:r}=e;const i=[];let s=0;const o=new Vr(jr(new mr(1)));for(const l of t){const e=di({animatables:"function"==typeof l?[l]:l,geometryElementManager:n,updatedValues:r});i.push(e),s=Math.max(s,e.duration)}const a=new Map;for(const l of i){const e=l.duration,t=new kr([o],(t=>{let[n]=t;const r=n.getValue().getNumber();return new mr(0===e?1:r*s/e)}));l.progress.wrap(t),l.marks.forEach(((e,t)=>{a.set(t,new mr(e.getNumber()*l.duration/s))}))}return{progress:o,duration:s,marks:a}}function di(e){let{animatables:t,geometryElementManager:n,updatedValues:r}=e;const i=[];for(const c of t){let e;if("function"==typeof c){const t=new li({geometryElementManager:n,updatedValues:r});c(t),e=t.build()}else e=hi({animatables:c,geometryElementManager:n,updatedValues:r});i.push(e),r.forEach(((e,t)=>{t.wrap(e)}))}const s=i.map((e=>e.duration)).reduce(((e,t)=>e+t),0),o=new Vr(jr(new mr(1))),a=new Map;let l=0;for(const c of i){const e=l;c.progress.wrap(new kr([o],(t=>{let[n]=t;const r=n.getValue().getNumber()*s,i=0===c.duration?r<e?0:1:(r-e)/c.duration;return new mr(i)}))),c.marks.forEach(((e,t)=>{a.set(t,new mr((l+c.duration*e.getNumber())/s))})),l+=c.duration}return{progress:o,duration:s,marks:a}}class gi{constructor(){a(this,"_geometryElements",new Map),a(this,"_geometryElementIdentifiers",new Map)}requestGeometryElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=function(e){const t=[];for(const n of e)if(n instanceof Pr||"string"==typeof n||"number"==typeof n||"symbol"==typeof n)t.push(n);else for(const e of n)t.push(e);return t}(t),i=[];for(const o of r)if("string"==typeof(s=o)||"number"==typeof s||"symbol"==typeof s){let e=this._geometryElements.get(o);void 0===e&&(e=new Pr,this._geometryElements.set(o,e),this._geometryElementIdentifiers.set(e,o)),i.push(e)}else if(o instanceof Pr){if(void 0===this._geometryElementIdentifiers.get(o)){const e=Symbol();this._geometryElements.set(e,o),this._geometryElementIdentifiers.set(o,e)}i.push(o)}else i.push(...this.requestGeometryElements(o));var s;return i}getGeometryElements(){return Array.from(this._geometryElements.values())}}var pi=n(6540);function mi(e){let{animation:t}=e;const n=(0,pi.useRef)(null),[r,s]=(0,pi.useState)(!1),[o,a]=(0,pi.useState)(0),l=(0,pi.useRef)(null);(0,pi.useEffect)((()=>{n.current&&(l.current=function(e,t){const n=new gi,r=new Map,i=di({animatables:t,geometryElementManager:n,updatedValues:r});r.forEach(((e,t)=>{t.wrap(e)}));const s=new ui(e);s.addGeometryElements(n.getGeometryElements());const o=new ci({duration:i.duration,progress:i.progress,drawing:s,marks:i.marks});return o.seekProgress(new mr(0)),o}(n.current,t),l.current.progress.subscribe((e=>{a(e.getNumber())})),l.current.running.subscribe((e=>{s(void 0!==e)})))}),[t]);return(0,i.jsxs)("div",{style:{marginBottom:"var(--ifm-leading)"},children:[(0,i.jsx)("svg",{ref:n,style:{width:"100%",border:"1px solid #ccc"},viewBox:"0 0 1000 500"}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,i.jsx)("button",{onClick:()=>{l.current&&(r?l.current.stop():(1===o&&l.current.seek(0),l.current.play()),s(!r))},style:{padding:"8px 16px",width:"100px"},children:r?"Pause":"Play"}),(0,i.jsx)("input",{type:"range",min:"0",max:"1",step:"0.001",value:o,onChange:e=>{if(l.current){const t=parseFloat(e.target.value);l.current.stop(),l.current.seekProgress(new mr(t))}},style:{flex:1}})]})]})}const fi=[e=>{e.select(1).fill("green").circle((e=>e.radius(100).centerX(300).centerY(150))),e.select(2).fill("purple").rectangle((e=>e.topLeftX(700).topLeftY(50).width(100).height(200))),e.select("1-2").stroke(Er(1)).strokeWidth(5).zIndex(-1).line((e=>e.start(xr(1)).end(xr(2))))},e=>{e.duration(1),e.select(2).circle((e=>e.centerY(375)))},e=>{e.duration(.5),e.select(1).fill(Er(2))}],wi={sidebar_position:2,title:"Your first animation"},bi="Creating your first animation",vi={},yi=[{value:"Creating the high-level structure",id:"creating-the-high-level-structure",level:2},{value:"Describing the actual animation",id:"describing-the-actual-animation",level:2},{value:"Creating elements",id:"creating-elements",level:3},{value:"Expressing dependencies",id:"expressing-dependencies",level:3},{value:"Animating values",id:"animating-values",level:3}];function _i(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"creating-your-first-animation",children:"Creating your first animation"})}),"\n",(0,i.jsx)(t.p,{children:'We want to create the following animation (click the "Play" button below to see it in action):'}),"\n","\n",(0,i.jsx)(mi,{animation:fi}),"\n",(0,i.jsx)(t.p,{children:"Using Japit, we can describe this animation with the following code. Don't worry if you don't understand it yet! We'll go through it step by step."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"import { $center, $fill, createAnimation } from 'japit';\n\nconst svg = document.querySelector('svg');\nsvg.style.width = '1000px';\nsvg.style.height = '500px';\n\nconst setup = (b) => {\n  b.select(1)\n    .fill('green')\n    .circle((c) => c.radius(100).centerX(300).centerY(150));\n\n  b.select(2)\n    .fill('purple')\n    .rectangle((r) => r.topLeftX(700).topLeftY(50).width(100).height(200));\n\n  b.select('1-2')\n    .stroke($fill(1))\n    .strokeWidth(5)\n    .zIndex(-1)\n    .line((l) => l.start($center(1)).end($center(2)));\n};\n\nconst moveRectangle = (b) => {\n  b.duration(1);\n  b.select(2).circle((c) => c.centerY(375));\n};\n\nconst changeColors = (b) => {\n  b.duration(0.5);\n  b.select(1).fill($fill(2));\n};\n\nconst player = createAnimation(svg, [setup, moveRectangle, changeColors]);\nplayer.play();\n"})}),"\n",(0,i.jsx)(t.p,{children:"Let's start by getting a high-level overview of the code."}),"\n",(0,i.jsx)(t.h2,{id:"creating-the-high-level-structure",children:"Creating the high-level structure"}),"\n",(0,i.jsx)(t.p,{children:"First, we need a canvas to draw our animation on. As Japit is a library for animating SVGs, we'll start by querying an SVG element that is already present in our DOM and set its size:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const svg = document.querySelector('svg');\nsvg.style.width = '1000px';\nsvg.style.height = '500px';\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Next, we create three functions, ",(0,i.jsx)(t.code,{children:"setup"}),", ",(0,i.jsx)(t.code,{children:"moveRectangle"}),", and ",(0,i.jsx)(t.code,{children:"changeColors"}),", that describe our animation:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const setup = (b) => {\n  // ...\n};\n\nconst moveRectangle = (b) => {\n  // ...\n};\n\nconst changeColors = (b) => {\n  // ...\n};\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"setup"})," function defines the initial state of our animation; the ",(0,i.jsx)(t.code,{children:"moveRectangle"})," function how the rectangle moves down and turns into a circle; and ",(0,i.jsx)(t.code,{children:"changeColors"})," how the circle and the line turn purple. We'll take a closer look at how we achieve these particular effects down below, but for now we'll skip to the remaining two lines:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const player = createAnimation(svg, [setup, moveRectangle, changeColors]);\nplayer.play();\n"})}),"\n",(0,i.jsxs)(t.p,{children:["We pass the SVG element and an array containing the ",(0,i.jsx)(t.code,{children:"setup"}),", ",(0,i.jsx)(t.code,{children:"moveRectangle"}),", and ",(0,i.jsx)(t.code,{children:"changeColors"})," functions to ",(0,i.jsx)(t.code,{children:"createAnimation"}),". The function returns an ",(0,i.jsx)(t.code,{children:"AnimationPlayer"})," object, which can play the three steps of our animation in order. Then we call ",(0,i.jsx)(t.code,{children:"play"})," on it to start playing the animation."]}),"\n",(0,i.jsx)(t.h2,{id:"describing-the-actual-animation",children:"Describing the actual animation"}),"\n",(0,i.jsxs)(t.p,{children:["Let's take a closer look at ",(0,i.jsx)(t.code,{children:"setup"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const setup = (b) => {\n  b.select(1)\n    .fill('green')\n    .circle((c) => c.radius(100).centerX(300).centerY(150));\n\n  b.select(2)\n    .fill('purple')\n    .rectangle((r) => r.topLeftX(700).topLeftY(50).width(100).height(200));\n\n  b.select('1-2')\n    .stroke($fill(1))\n    .strokeWidth(5)\n    .zIndex(-1)\n    .line((l) => l.start($center(1)).end($center(2)));\n};\n"})}),"\n",(0,i.jsx)(t.h3,{id:"creating-elements",children:"Creating elements"}),"\n",(0,i.jsxs)(t.p,{children:["In Japit, we refer to every element in our animation via an identifier, which is a ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",children:"Number"}),", ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",children:"String"}),", or ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",children:"Symbol"}),". Here we use"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"1"})," as identifier for the left circle,"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"2"})," for the right rectangle, and"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"'1-2'"})," for the line connecting them."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["To change an element with a given identifier, we call the ",(0,i.jsx)(t.code,{children:"select"})," method on the ",(0,i.jsx)(t.code,{children:"AnimationBuilder"})," ",(0,i.jsx)(t.code,{children:"b"})," and pass in the identifier. There is no need to explicitly create the elements as Japit will create them for us on the fly."]}),"\n",(0,i.jsxs)(t.p,{children:["After selecting an element, we can change its properties by calling methods on the ",(0,i.jsx)(t.code,{children:"TransitionBuilder"})," returned by ",(0,i.jsx)(t.code,{children:"select"}),". Here we set the fill color of ",(0,i.jsx)(t.code,{children:"1"})," to green and change its shape to a circle with radius ",(0,i.jsx)(t.code,{children:"100"})," at x-coordinate ",(0,i.jsx)(t.code,{children:"300"})," and y-coordinate ",(0,i.jsx)(t.code,{children:"100"})," via:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"b.select(1)\n  .fill('green')\n  .circle((c) => c.radius(100).centerX(300).centerY(150));\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Similarly, we create the rectangle with identifier ",(0,i.jsx)(t.code,{children:"2"})," by calling:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"b.select(2)\n  .fill('purple')\n  .rectangle((r) => r.topLeftX(700).topLeftY(50).width(100).height(200));\n"})}),"\n",(0,i.jsx)(t.h3,{id:"expressing-dependencies",children:"Expressing dependencies"}),"\n",(0,i.jsxs)(t.p,{children:["Last, we construct the line ",(0,i.jsx)(t.code,{children:"'1-2'"})," connecting the two shapes. However, this time we don't specify its fill and endpoints explicitly. Instead, we use the ",(0,i.jsx)(t.code,{children:"$fill"})," and ",(0,i.jsx)(t.code,{children:"$center"})," functions to set its fill to the fill of ",(0,i.jsx)(t.code,{children:"1"})," and its endpoints to the centers of ",(0,i.jsx)(t.code,{children:"1"})," and ",(0,i.jsx)(t.code,{children:"2"}),", respectively:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"b.select('1-2')\n  .stroke($fill(1))\n  .strokeWidth(5)\n  .zIndex(-1)\n  .line((l) => l.start($center(1)).end($center(2)));\n"})}),"\n",(0,i.jsx)(t.h3,{id:"animating-values",children:"Animating values"}),"\n",(0,i.jsx)(t.p,{children:"It's time to start animating. We move the rectangle down and turn it into a circle via:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const moveRectangle = (b) => {\n  b.duration(1);\n  b.select(2).circle((c) => c.centerY(375));\n};\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Calling ",(0,i.jsx)(t.code,{children:"b.duration(1)"})," sets the duration of the animation to one second. Then we select the rectangle via its identifier ",(0,i.jsx)(t.code,{children:"2"})," and change its shape to a circle with y-coordinate of ",(0,i.jsx)(t.code,{children:"375"}),". Notice that Japit automatically infers the unspecified values like the x-coordinate and radius of the circle from the shape of the rectangle."]}),"\n",(0,i.jsxs)(t.p,{children:["Observe how the endpoint of the line is automatically updated to match the center of ",(0,i.jsx)(t.code,{children:"2"})," as we set the endpoint of ",(0,i.jsx)(t.code,{children:"'1-2'"})," to ",(0,i.jsx)(t.code,{children:"$center(2)"})," above."]}),"\n",(0,i.jsxs)(t.p,{children:["Last, we change the fill color of ",(0,i.jsx)(t.code,{children:"1"})," to the fill color of ",(0,i.jsx)(t.code,{children:"2"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const changeColors = (b) => {\n  b.duration(0.5);\n  b.select(1).fill($fill(2));\n};\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Now, the stroke of ",(0,i.jsx)(t.code,{children:"'1-2'"})," is equal to the fill of ",(0,i.jsx)(t.code,{children:"1"}),", which is in turn equal to the fill of ",(0,i.jsx)(t.code,{children:"2"}),", resulting in all three elements being 'purple'."]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["There is no difference between setting values and animating them. Setting a value just corresponds to an animation with a duration of ",(0,i.jsx)(t.code,{children:"0"}),". As ",(0,i.jsx)(t.code,{children:"0"})," is the default duration, there is no need to explicitly specify it in ",(0,i.jsx)(t.code,{children:"setup"}),"."]})})]})}function xi(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(_i,{...e})}):_i(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var r=n(6540);const i={},s=r.createContext(i);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);